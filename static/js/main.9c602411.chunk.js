(this.webpackJsonpgroceries=this.webpackJsonpgroceries||[]).push([[0],[,,function(e,t,n){e.exports={Item:"Item_Item__16sp8",ItemCompleted:"Item_ItemCompleted__3IRuI Item_Item__16sp8",Dragged:"Item_Dragged__1B27_",field:"Item_field__2uX1q",textCompleted:"Item_textCompleted__ij3Pf Item_field__2uX1q",CheckBox:"Item_CheckBox__hgMI8",Checked:"Item_Checked__2Na6Q",Unchecked:"Item_Unchecked__gt_ks",DeleteButton:"Item_DeleteButton__3jjaR",DeleteIcon:"Item_DeleteIcon__1WSAP"}},,,,,,,,function(e,t,n){e.exports={Header:"Header_Header__1fHt3",Heading:"Header_Heading__CQRSf",ReloadButton:"Header_ReloadButton__2mUpS",ReloadIcon:"Header_ReloadIcon__3bE06"}},function(e,t,n){e.exports={Banner:"OnLineStatusBanner_Banner__2Ej-k",OnLine:"OnLineStatusBanner_OnLine__3YRCZ OnLineStatusBanner_Banner__2Ej-k",OffLine:"OnLineStatusBanner_OffLine__2hC5H OnLineStatusBanner_Banner__2Ej-k"}},,,function(e,t,n){e.exports={ItemList:"ItemList_ItemList__4ujzD"}},function(e,t,n){e.exports={Button:"ToolbarButton_Button__3uxur"}},function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__1fjPn"}},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(13),o=n.n(r),l=(n(23),n(7)),c=n(8),s=n(4),d=n(3),u=n(1),h=n(5),m=n(6),f=(n(24),n(10)),p=n.n(f);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var I=i.createElement("path",{d:"m13.3254199 1.01518685.0872208.07770637 3.5355339 3.5355339c.3626297.3626297.3885318.9344751.0777064 1.32699275l-.0777064.08722082-3.5355339 3.5355339c-.3905243.39052429-1.0236893.39052429-1.4142136 0-.3626297-.3626297-.3885318-.93447509-.0777063-1.32699275l.0777063-.08722081 2.1438822-2.1432897c-.3039584-.01380945-.655332-.0204143-1.0725216-.02217343l-1.0697877.0015021c-3.3137085 0-6 2.6862915-6 6s2.6862915 6 6 6 6-2.6862915 6-6c0-.5522847.4477153-1 1-1s1 .4477153 1 1c0 4.418278-3.581722 8-8 8s-8-3.581722-8-8 3.581722-8 8-8l1.1081784-.00147832c.1345115.00058353.2633284.00164591.386965.00327194l-1.4967163-1.49468684c-.3626297-.3626297-.3885318-.93447509-.0777063-1.32699275l.0777063-.08722081c.3626297-.3626297.9344751-.38853182 1.3269928-.07770637z"});var O=i.forwardRef((function(e,t){var n=e.title,a=e.titleId,r=v(e,["title","titleId"]);return i.createElement("svg",g({height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,I)}));n.p;var b=function(e){return a.a.createElement("header",{className:p.a.Header},a.a.createElement("div",null),a.a.createElement("h1",{className:p.a.Heading},e.title),a.a.createElement("button",{className:p.a.ReloadButton,onClick:e.onReloadClick},a.a.createElement(O,{className:p.a.ReloadIcon})))},C=n(11),k=n.n(C),y=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={isOnLine:navigator.onLine},i.updateOnLineStatus=i.updateOnLineStatus.bind(Object(u.a)(i)),i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("online",this.updateOnLineStatus),window.addEventListener("offline",this.updateOnLineStatus)}},{key:"updateOnLineStatus",value:function(){this.setState({isOnLine:navigator.onLine})}},{key:"render",value:function(){var e=this.state.isOnLine?k.a.OnLine:k.a.OffLine,t=this.state.isOnLine?"Online":"Offline";return a.a.createElement("div",{className:e},t)}}]),n}(a.a.Component),j=n(9),w=n(2),_=n.n(w);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var D=i.createElement("path",{d:"m12 0c6.627417 0 12 5.372583 12 12s-5.372583 12-12 12-12-5.372583-12-12 5.372583-12 12-12zm0 2c-5.5228475 0-10 4.4771525-10 10s4.4771525 10 10 10 10-4.4771525 10-10-4.4771525-10-10-10zm5.3033009 5.31801948 1.4142135 1.41421357-8.4852814 8.48528135-4.94974742-4.9497474 1.41421356-1.4142136 3.53482676 3.536241z",fillRule:"evenodd"});var P=i.forwardRef((function(e,t){var n=e.title,a=e.titleId,r=x(e,["title","titleId"]);return i.createElement("svg",E({height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,D)}));n.p;function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var B=i.createElement("path",{d:"m12 0c6.627417 0 12 5.372583 12 12s-5.372583 12-12 12-12-5.372583-12-12 5.372583-12 12-12zm0 2c-5.5228475 0-10 4.4771525-10 10s4.4771525 10 10 10 10-4.4771525 10-10-4.4771525-10-10-10z"});var T=i.forwardRef((function(e,t){var n=e.title,a=e.titleId,r=S(e,["title","titleId"]);return i.createElement("svg",R({height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,B)}));n.p;function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var M=i.createElement("path",{d:"m12 2c5.5228475 0 10 4.4771525 10 10s-4.4771525 10-10 10-10-4.4771525-10-10 4.4771525-10 10-10zm3.5355339 5.05025253-3.5352814 3.53599997-3.53578641-3.53599997-1.41421356 1.41421356 3.53599997 3.53578641-3.53599997 3.5352814 1.41421356 1.4142136 3.53578641-3.535495 3.5352814 3.535495 1.4142136-1.4142136-3.535495-3.5352814 3.535495-3.53578641z",fillRule:"evenodd"});var Y,A=i.forwardRef((function(e,t){var n=e.title,a=e.titleId,r=N(e,["title","titleId"]);return i.createElement("svg",L({height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":a},r),n?i.createElement("title",{id:a},n):null,M)})),U=(n.p,a.a.forwardRef((function(e,t){var n=e.onDeleteClick?a.a.createElement("button",{className:_.a.DeleteButton,onClick:function(t){e.onDeleteClick&&e.onDeleteClick({id:e.id})}},a.a.createElement(A,{className:_.a.DeleteIcon})):null,i=e.hasCheckButton?a.a.createElement("button",{className:_.a.CheckBox,onClick:function(t){e.onCheckClick&&e.onCheckClick({id:e.id,isCompleted:e.isCompleted})}},e.isCompleted?a.a.createElement(P,{className:_.a.Checked}):a.a.createElement(T,{className:_.a.Unchecked})):null,r=e.isCompleted?_.a.textCompleted:_.a.field;return a.a.createElement("li",{className:function(){var t="";return t=e.isCompleted?_.a.ItemCompleted:_.a.Item,e.isBeingDragged&&(t="".concat(t," ").concat(_.a.Dragged)),t}(),ref:t,style:e.itemStyle,onPointerDown:function(t){return e.onPointerDown(t,e.id,e.index,e.text)}},i,a.a.createElement("input",{className:r,type:"text",value:e.text,onChange:function(t){e.onValueChange&&e.onValueChange({id:e.id,text:t.target.value})},disabled:!!e.isCompleted,autoFocus:e.isOpen,onFocus:function(t){return e.text,void(e.onInputFocus&&e.onInputFocus())},onBlur:function(t){return e.text,void(e.onBlur&&e.onBlur({id:e.id}))},onKeyUp:function(t){"Enter"===t.key&&e.onInputEnter({orderId:e.orderId})}}),n)}))),H=n(14),z=n.n(H);function W(e,t,n){var i,a,r,o=Math.round(e/t);return i=o,a=0,r=n,Math.min(Math.max(i,a),r)}function V(e){var t=e.getBoundingClientRect(),n=window.scrollY;return{top:t.top+n,height:t.height}}function J(e){return V(e).top}var F=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={isDragging:!1,dragItemId:null,dragItemHeight:null,dragItemTop:null,dragItemTopEdgeOffsetY:null,dragItemIndex:null,dragItemRelativeOffsetTop:null,dragPointerPageY:null,listRef:a.a.createRef()},i.itemRefs={},i.handlePointerDown=i.handlePointerDown.bind(Object(u.a)(i)),i.handlePointerUp=i.handlePointerUp.bind(Object(u.a)(i)),i.handlePointerCancel=i.handlePointerCancel.bind(Object(u.a)(i)),i.handlePointerMove=i.handlePointerMove.bind(Object(u.a)(i)),i}return Object(d.a)(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.items.find((function(e){return e.id===t.dragItemId}));if(!n)return null;var i=e.items.indexOf(n),a=J(t.listRef.current),r=i*t.dragItemHeight+a;return{dragItemIndex:i,dragItemTop:r,dragItemRelativeOffsetTop:t.dragPointerPageY-r-t.dragItemTopEdgeOffsetY}}}]),Object(d.a)(n,[{key:"componentDidMount",value:function(){}},{key:"reorderItems",value:function(e,t,n){var i=function(e,t,n){var i=Object(c.a)(e);if(t>e.length-1)return console.clear(),console.warn("move(): No item to move at index ".concat(t," in array:")),console.table(e),i;var a=i.splice(t,1)[0];return i.splice(n,0,a),i}(e,t,n),a=null;return i.map((function(e){return null===a?a=e.orderId:a>=e.orderId?a+=1:a=e.orderId,Object(l.a)({},e,{orderId:a})}))}},{key:"startDrag",value:function(e){var t=e.itemId,n=e.offsetY,i=e.pageY,a=e.height,r=e.top,o=e.itemIndex;console.log("startDrag"),this.setState({isDragging:!0,dragItemId:t,dragItemHeight:a,dragItemTop:r,dragItemTopEdgeOffsetY:n,dragItemIndex:o,dragPointerPageY:i})}},{key:"stopDrag",value:function(){console.log("stopDrag"),this.setState({isDragging:!1,dragItemId:null,dragItemHeight:null,dragItemTop:null,dragItemTopEdgeOffsetY:null,dragItemIndex:null,dragItemRelativeOffsetTop:null,dragPointerPageY:null})}},{key:"handlePointerDown",value:function(e,t,n,i){console.log("handlePointerDown",i);var a=e.pageY,r=V(e.currentTarget),o=r.height,l=r.top,c={itemId:t,itemIndex:n,height:o,top:l,offsetY:a-l,pageY:a};Y=setTimeout(this.startDrag.bind(this,c),500)}},{key:"handlePointerUp",value:function(e){clearTimeout(Y),this.state.isDragging&&this.stopDrag()}},{key:"handlePointerCancel",value:function(e){clearTimeout(Y),this.state.isDragging&&this.stopDrag()}},{key:"handlePointerMove",value:function(e){if(this.state.isDragging){var t=this.state,n=t.dragItemTopEdgeOffsetY,i=t.dragItemHeight,a=t.dragItemTop,r=t.dragItemIndex,o=J(this.state.listRef.current),c=e.pageY,s=W(c-o-n,i,this.props.items.length-1);if(s===r){var d=c-a-n;this.setState({dragItemRelativeOffsetTop:d,dragPointerPageY:c})}else{var u=s*i+o,h=e.pageY-u-n,m=this.reorderItems(this.props.items,r,s).reduce((function(e,t){return Object(l.a)({},e,Object(j.a)({},t.id,t.orderId))}),{});this.props.onOrderChange(m),this.setState({dragItemRelativeOffsetTop:h,dragPointerPageY:c,dragItemTop:u,dragItemIndex:s})}}}},{key:"getBoundingRects",value:function(e){var t=this;return e.reduce((function(e,n){var i=t.itemRefs[n.id].current.getBoundingClientRect();return Object(l.a)({},e,Object(j.a)({},n.id,i))}),{})}},{key:"didItemOrderChange",value:function(e,t){for(var n=function(n){var i=e[n],a=t.find((function(e){return e.id===i.id}));if(a&&i.orderId!==a.orderId)return{v:!0}},i=0;i<e.length;i+=1){var a=n(i);if("object"===typeof a)return a.v}return!1}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.didItemOrderChange(e.items,this.props.items)?this.getBoundingRects(e.items):null}},{key:"componentDidUpdate",value:function(e,t,n){var i=this;if(n)for(var a=n,r=this.getBoundingRects(this.props.items),o=function(e){var t=i.props.items[e],n=i.itemRefs[t.id].current,o=r[t.id],l=a[t.id];if(!l)return"continue";var c=l.top-o.top;requestAnimationFrame((function(){n.style.transform="translate(0, ".concat(c,"px)"),n.style.transition="transform 0s",requestAnimationFrame((function(){n.style.transform="",n.style.transition="transform 300ms"}))}))},l=0;l<this.props.items.length;l+=1)o(l)}},{key:"getItemElement",value:function(e,t){this.itemRefs[e.id]=this.itemRefs[e.id]||a.a.createRef();var n=e.id===this.state.dragItemId?{top:"".concat(this.state.dragItemRelativeOffsetTop,"px")}:{};return a.a.createElement(U,{key:e.id,ref:this.itemRefs[e.id],text:e.text,isCompleted:e.isCompleted,isBeingDragged:e.id===this.state.dragItemId,itemStyle:n,onValueChange:this.props.onValueChange,onCheckClick:this.props.onCheckClick,onInputEnter:this.props.onInputEnter,id:e.id,index:t,isOpen:e.isOpen,onBlur:this.props.onBlur,orderId:e.orderId,onDeleteClick:this.props.onDeleteClick,hasCheckButton:!0,onPointerDown:this.handlePointerDown})}},{key:"getElementCollection",value:function(e){var t=this;return e.items.map((function(e,n){return t.getItemElement(e,n)}))}},{key:"render",value:function(){var e=this.getElementCollection({items:this.props.items}),t=this.getElementCollection({items:this.props.completedItems});return a.a.createElement("ul",{ref:this.state.listRef,className:z.a.ItemList,onPointerUp:this.handlePointerUp,onPointerCancel:this.handlePointerCancel,onPointerMove:this.handlePointerMove},e,this.props.showCompleted?t:null)}}]),n}(a.a.Component),q=n(15),Q=n.n(q);var X=function(e){return a.a.createElement("button",{className:Q.a.Button,onClick:e.onClick},e.children)},$=n(16),K=n.n($);var Z=function(e){return a.a.createElement("div",{className:K.a.Toolbar},a.a.createElement(X,{onClick:e.onAddItemClick},"Add item"),a.a.createElement(X,{onClick:e.onCompletedToggle},"Toggle completed"))},G=n(26),ee=n(17),te="linda-groceries.herokuapp.com",ne="https://".concat(te),ie="wss://".concat(te,"/cable"),ae={Accept:"application/json","Content-Type":"application/json"},re=Object(ee.createConsumer)(ie);function oe(e){return e.json()}var le={id:Object(G.a)(),subscribeToUpdates:function(e){var t=e.onConnected,n=e.onDisconnected,i=e.onReceived;re.subscriptions.create({channel:"ListChannel"},{connected:function(){t()},disconnected:function(){n()},received:function(e){i(e)}})},getItems:function(e){fetch("".concat(ne,"/items"),{headers:ae}).then(oe).then(e)},createItem:function(e){var t=Object.assign({},e,{clientId:this.id});fetch("".concat(ne,"/items"),{method:"post",headers:ae,body:JSON.stringify(t)})},updateItem:function(e){var t=Object.assign({},e,{clientId:this.id});fetch("".concat(ne,"/items/").concat(e.id),{method:"put",headers:ae,body:JSON.stringify(t)})},updateManyItems:function(e){var t={items:e,clientId:this.id};fetch("".concat(ne,"/items/update_many"),{method:"put",headers:ae,body:JSON.stringify(t)})},deleteItem:function(e){var t={clientId:this.id};fetch("".concat(ne,"/items/").concat(e),{method:"delete",headers:ae,body:JSON.stringify(t)})}};function ce(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var se={items:[],showCompleted:!0},de=function(){return Object.assign({},se,JSON.parse(window.localStorage.getItem("groceries"))||{})},ue=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state=de(),i.handleConnected=i.handleConnected.bind(Object(u.a)(i)),i.handleDisconnected=i.handleDisconnected.bind(Object(u.a)(i)),i.handleReceived=i.handleReceived.bind(Object(u.a)(i)),i.handleAddItemClick=i.handleAddItemClick.bind(Object(u.a)(i)),i.handleDeleteItemClick=i.handleDeleteItemClick.bind(Object(u.a)(i)),i.handleValueChange=i.handleValueChange.bind(Object(u.a)(i)),i.handleCheckClick=i.handleCheckClick.bind(Object(u.a)(i)),i.handleItemBlur=i.handleItemBlur.bind(Object(u.a)(i)),i.handleInputEnter=i.handleInputEnter.bind(Object(u.a)(i)),i.handleReloadClick=i.handleReloadClick.bind(Object(u.a)(i)),i.handleCompletedToggle=i.handleCompletedToggle.bind(Object(u.a)(i)),i.handleOrderChange=i.handleOrderChange.bind(Object(u.a)(i)),i.handleOnLine=i.handleOnLine.bind(Object(u.a)(i)),i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadItems(),le.subscribeToUpdates({onConnected:this.handleConnected,onDisconnected:this.handleDisconnected,onReceived:this.handleReceived}),window.addEventListener("online",this.handleOnLine)}},{key:"componentDidUpdate",value:function(){var e;e=this.state,window.localStorage.setItem("groceries",JSON.stringify(e))}},{key:"loadItems",value:function(){var e=this;le.getItems((function(t){e.setState({items:t})}))}},{key:"handleOnLine",value:function(){this.loadItems()}},{key:"handleConnected",value:function(){}},{key:"handleDisconnected",value:function(){}},{key:"hasItem",value:function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].id===t)return!0;return!1}},{key:"handleReceived",value:function(e){if(e.clientId!==le.id)switch(e.message_type){case"item_create":this.hasItem(this.state.items,e.item.id)||this.createItem(e.item);break;case"item_update":this.updateItem(e.item);break;case"item_delete":this.deleteItem(e.item.id);break;default:console.log("Unrecognized message type")}}},{key:"createItem",value:function(e){var t=e.id,n=void 0===t?Object(G.a)():t,i=e.orderId,a=e.text,r=void 0===a?"":a,o=e.isCompleted,l=void 0!==o&&o,c=e.isOpen,s={id:n,orderId:i,text:r,isCompleted:l,isOpen:void 0!==c&&c};return this.setState({items:this.state.items.map((function(e){return e.orderId>=s.orderId?Object.assign({},e,{orderId:e.orderId+1}):e})).concat(s)}),s}},{key:"updateItem",value:function(e){this.setState({items:this.state.items.map((function(t){return t.id===e.id?Object.assign({},t,e):t}))})}},{key:"deleteItem",value:function(e){this.setState({items:this.state.items.filter((function(t){return t.id!==e}))})}},{key:"handleAddItemClick",value:function(){var e,t=this.state.items.filter((function(e){return!e.isCompleted})).map((function(e){return e.orderId}));e=t.length>0?Math.max.apply(Math,Object(c.a)(t))+1:0;var n=this.createItem({orderId:e,isOpen:!0});le.createItem(n)}},{key:"handleInputEnter",value:function(e){var t=e.orderId+1,n=this.createItem({orderId:t,isOpen:!0});le.createItem(n)}},{key:"handleDeleteItemClick",value:function(e){var t=e.id;this.deleteItem(t),le.deleteItem(t)}},{key:"handleItemBlur",value:function(e){var t=e.id;this.setState({items:this.state.items.map((function(e){return e.id===t?Object.assign({},e,{isOpen:!1}):e}))})}},{key:"handleValueChange",value:function(e){var t=e.id,n=e.text;this.setState({items:this.state.items.map((function(e){if(e.id===t){var i=Object.assign({},e,{text:n});return le.updateItem(i),i}return e}))})}},{key:"handleCheckClick",value:function(e){var t,n=e.id,i=e.isCompleted,a=this.state.items.filter((function(e){return e.isCompleted===!i})).map((function(e){return e.orderId}));t=a.length>0?i?Math.max.apply(Math,Object(c.a)(a))+1:Math.min.apply(Math,Object(c.a)(a))-1:0,this.setState({items:this.state.items.map((function(e){if(e.id===n){var i=Object.assign({},e,{isCompleted:!e.isCompleted,orderId:t});return le.updateItem(i),i}return e}))})}},{key:"handleReloadClick",value:function(){this.loadItems()}},{key:"handleCompletedToggle",value:function(){this.setState((function(e){return ce(e,"showCompleted")?{showCompleted:!e.showCompleted}:{showCompleted:!1}}))}},{key:"handleOrderChange",value:function(e){var t=[];this.setState({items:this.state.items.map((function(n){if(ce(e,n.id)){var i=Object(l.a)({},n,{orderId:e[n.id]});return t.push(i),i}return n}))}),le.updateManyItems(t)}},{key:"render",value:function(){var e=!ce(this.state,"showCompleted")||this.state.showCompleted,t=this.state.items.filter((function(e){return!e.isCompleted})).sort((function(e,t){return e.orderId-t.orderId})),n=this.state.items.filter((function(e){return e.isCompleted})).sort((function(e,t){return e.orderId-t.orderId}));return a.a.createElement("div",{className:"App"},a.a.createElement(b,{onReloadClick:this.handleReloadClick,title:"Linda from Purcha$ing v20"}),a.a.createElement(y,null),a.a.createElement(F,{items:t,completedItems:n,onValueChange:this.handleValueChange,onOrderChange:this.handleOrderChange,onCheckClick:this.handleCheckClick,onBlur:this.handleItemBlur,onInputEnter:this.handleInputEnter,onAddItemClick:this.handleAddItemClick,onDeleteClick:this.handleDeleteItemClick,showCompleted:e}),a.a.createElement(Z,{onAddItemClick:this.handleAddItemClick,onCompletedToggle:this.handleCompletedToggle}))}}]),n}(a.a.Component),he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ue,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/groceries",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/groceries","/customServiceWorker.js");he?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):me(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):me(t,e)}))}}()}],[[25,1,2]]]);
//# sourceMappingURL=main.9c602411.chunk.js.map