(this.webpackJsonpgroceries=this.webpackJsonpgroceries||[]).push([[0],{14:function(e,t,n){e.exports={Banner:"OnLineStatusBanner_Banner__2Ej-k",OnLine:"OnLineStatusBanner_OnLine__3YRCZ OnLineStatusBanner_Banner__2Ej-k",OffLine:"OnLineStatusBanner_OffLine__2hC5H OnLineStatusBanner_Banner__2Ej-k",TryingToConnect:"OnLineStatusBanner_TryingToConnect__1DeyF OnLineStatusBanner_Banner__2Ej-k"}},2:function(e,t,n){e.exports={Item:"Item_Item__16sp8",ItemCompleted:"Item_ItemCompleted__3IRuI Item_Item__16sp8",Dragged:"Item_Dragged__1B27_",field:"Item_field__2uX1q",textCompleted:"Item_textCompleted__ij3Pf Item_field__2uX1q",CheckBox:"Item_CheckBox__hgMI8",Checked:"Item_Checked__2Na6Q",Unchecked:"Item_Unchecked__gt_ks",DeleteButton:"Item_DeleteButton__3jjaR",DeleteIcon:"Item_DeleteIcon__1WSAP"}},22:function(e,t,n){e.exports={ItemList:"ItemList_ItemList__4ujzD"}},23:function(e,t,n){e.exports={Button:"ToolbarButton_Button__3uxur"}},24:function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__1fjPn"}},28:function(e,t,n){e.exports=n(44)},3:function(e,t,n){e.exports={Header:"Header_Header__1fHt3",Heading:"Header_Heading__CQRSf",ReloadButton:"Header_ReloadButton__2mUpS",ReloadIcon:"Header_ReloadIcon__3bE06"}},33:function(e,t,n){},34:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(21),o=n.n(i),l=(n(33),n(4)),c=n(5),s=n(11),d=n(8),u=n(1),h=n(12),m=n(13),f=(n(34),n(3)),g=n.n(f);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var v=a.a.createElement("path",{d:"m13.3254199 1.01518685.0872208.07770637 3.5355339 3.5355339c.3626297.3626297.3885318.9344751.0777064 1.32699275l-.0777064.08722082-3.5355339 3.5355339c-.3905243.39052429-1.0236893.39052429-1.4142136 0-.3626297-.3626297-.3885318-.93447509-.0777063-1.32699275l.0777063-.08722081 2.1438822-2.1432897c-.3039584-.01380945-.655332-.0204143-1.0725216-.02217343l-1.0697877.0015021c-3.3137085 0-6 2.6862915-6 6s2.6862915 6 6 6 6-2.6862915 6-6c0-.5522847.4477153-1 1-1s1 .4477153 1 1c0 4.418278-3.581722 8-8 8s-8-3.581722-8-8 3.581722-8 8-8l1.1081784-.00147832c.1345115.00058353.2633284.00164591.386965.00327194l-1.4967163-1.49468684c-.3626297-.3626297-.3885318-.93447509-.0777063-1.32699275l.0777063-.08722081c.3626297-.3626297.9344751-.38853182 1.3269928-.07770637z"}),I=function(e){var t=e.svgRef,n=e.title,r=C(e,["svgRef","title"]);return a.a.createElement("svg",p({height:24,viewBox:"0 0 24 24",width:24,ref:t},r),n?a.a.createElement("title",null,n):null,v)},O=a.a.forwardRef((function(e,t){return a.a.createElement(I,p({svgRef:t},e))}));n.p;function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var k=a.a.createElement("title",null,"title"),j=a.a.createElement("g",{id:"\\uD83D\\uDC1E-Hunting-Bugs",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},a.a.createElement("path",{d:"M21.66,28.532 C23.408,28.532 25.536,24.732 25.536,21.768 C25.536,20.324 24.89,18.5 23.18,18.5 C20.748,18.5 22.952,23.782 16.492,23.782 C13.794,23.782 13.338,22.452 13.338,19.716 L13.338,7.632 C13.338,4.06 16.34,5.732 16.34,3.528 C16.34,3.44464516 16.3384183,3.36129032 16.3334181,3.27828243 L16.3231244,3.15407418 C16.1988345,1.99803538 15.2245161,0.944 8.36,0.944 C6.498,0.944 0.532,1.096 0.532,3.87 C0.532,6.036 3.876,4.364 3.952,7.556 C4.028,9.684 4.218,11.812 4.218,14.092 C4.218,16.334 4.218,18.766 4.142,21.54 C4.028,25.948 1.064,23.972 1.064,26.328 C1.064,27.9012 2.63378,27.99696 3.8342,28.00038 L4.09409185,28.000183 C4.13613111,28.0000844 4.17746667,28 4.218,28 L16.91,28 C18.202,28 19.038,28.114 19.76,28.266 C20.444,28.38 20.976,28.532 21.66,28.532 Z M29.336,7.48 C31.502,7.48 36.67,6.72 36.67,3.756 C36.67,1.856 34.504,1.362 32.984,1.362 C31.046,1.362 26.03,2.388 26.03,4.896 C26.03,6.758 27.74,7.48 29.336,7.48 Z M39.102,25.834 C39.102,23.82 36.86,25.454 36.86,20.97 L36.86,10.368 C36.86,9.57 36.822,8.696 35.682,8.696 C35.302,8.696 25.65,9.836 25.65,12.534 C25.65,14.244 27.588,13.826 27.93,15.156 C28.348,16.562 28.272,22.072 27.778,23.402 C27.322,24.58 25.764,24.656 25.764,26.024 C25.764,26.936 26.03,28.418 32.566,28.418 L32.956712,28.417181 C34.911656,28.4059876 39.102,28.2418182 39.102,25.834 Z M52.136,26.138 C52.136,24.694 50.844,25.34 50.844,21.654 L50.844,18.728 C50.844,17.018 50.616,14.396 53.048,14.396 C56.62,14.396 55.556,20.476 55.366,23.174 C55.176,25.644 53.922,24.998 53.922,26.366 C53.922,28.3166667 56.9873333,28.4153611 58.5519306,28.4182639 L58.8188493,28.4182639 C58.8602407,28.4180586 58.9,28.418 58.938,28.418 C65.7248,28.418 65.92696,26.97761 65.930209,26.2471265 L65.930209,26.1729484 C65.930209,26.1610533 65.930209,26.1494 65.930209,26.138 C65.930209,24.504 64.372,25.188 64.182,22.186 C64.1675696,21.9666582 64.1556052,21.7445217 64.1455095,21.520119 L64.1276327,21.0684487 C64.1197632,20.8412593 64.1133642,20.6121562 64.1078385,20.3816678 L64.0977746,19.9190007 C64.0916057,19.6095334 64.0862815,19.29823 64.0803863,18.9863433 L64.0655615,18.2841424 C63.9485688,13.4472604 63.4393165,8.696 57.266,8.696 C55.1,8.696 53.96,9.494 53.2,10.254 C52.44,11.052 52.098,11.85 51.49,11.85 C50.92,11.85 50.73,11.318 50.73,10.862 C50.73,10.634 50.768,10.406 50.768,10.178 C50.768,9.418 50.236,8.696 49.4,8.696 C48.64,8.696 39.9,10.596 39.9,12.61 C39.9,14.624 42.218,13.712 42.142,16.524 L41.99,22.224 C41.876,25.948 40.128,24.314 40.128,26.138 C40.128,28.298 43.6067368,28.4116842 45.2653296,28.4176676 L45.524,28.418 L45.524,28.418 L45.6382624,28.4182639 L45.6382624,28.4182639 L45.8982398,28.4182639 C47.762609,28.4167669 52.136,28.3296279 52.136,26.138 Z M75.81,28.532 C77.482,28.532 78.66,27.962 79.534,27.43 C80.408,26.86 80.978,26.328 81.32,26.328 C82.574,26.328 81.206,28.418 83.144,28.418 C83.562,28.418 91.884,28.228 91.884,25.34 C91.884,23.364 89.87,24.238 89.87,21.578 L89.87,3.414 C89.87,2.16 89.604,1.362 88.464,1.362 C88.35,1.362 78.66,2.084 78.66,4.896 C78.66,6.948 81.434,5.694 81.434,8.05 C81.434,8.468 81.396,9.722 80.826,9.722 C80.408,9.722 78.926,8.582 76.304,8.582 C71.06,8.582 66.956,13.522 66.956,18.576 C66.956,23.25 70.832,28.532 75.81,28.532 Z M79.078,23.782 C76.722,23.782 76.266,20.666 76.266,18.88 C76.266,17.094 76.722,12.724 79.268,12.724 C81.472,12.724 81.472,15.954 81.472,17.436 L81.4726997,17.6880129 C81.4728852,17.7330048 81.4730811,17.7794271 81.4732517,17.8271834 L81.4731356,18.2903999 C81.4618886,20.3213694 81.2687442,23.782 79.078,23.782 Z M108.642,28.532 C111.416,28.532 114.38,26.176 114.38,24.01 C114.38,23.2156774 114.038356,23.2754651 113.619566,23.2592095 L113.513415,23.2530231 C112.868699,23.1999396 112.1,22.8013548 112.1,18.918 L112.1,15.118 C112.1,9.418 106.172,8.582 104.006,8.582 C100.396,8.582 93.974,10.672 93.974,13.902 C93.974,15.118 94.886,15.992 96.102,15.992 C99.484,15.992 99.712,11.888 101.992,11.888 C103.74,11.888 103.778,14.51 103.778,15.764 C103.778,16.961 103.370688,17.0524375 102.479691,17.0565937 L102.211894,17.0562859 C102.165045,17.0561319 102.117083,17.056 102.068,17.056 C95.38,17.056 92.796,20.4 92.796,23.098 C92.796,26.86 95.95,28.532 99.104,28.532 C100.852,28.532 101.992,28.038 102.828,27.544 C103.664,27.088 104.158,26.594 104.614,26.594 C105.564,26.594 105.64,28.532 108.642,28.532 Z M102.334,24.314 C101.232,24.314 100.7,23.25 100.7,22.262 C100.7,21.046 101.574,19.83 102.866,19.83 C103.833273,19.83 103.889802,20.615124 103.892086,21.385973 L103.892,21.616 L103.892,21.616 C103.892,22.756 103.778,24.314 102.334,24.314 Z M139.232,28.532 C140.106,28.532 141.132,28 142.386,25.606 L148.618,13.484 C149.72,11.356 152.19,12.192 152.19,10.368 C152.19,8.696 149.34,8.696 148.238,8.696 C148.111333,8.696 147.947136,8.69412346 147.755311,8.69339369 L147.448093,8.69339369 C145.820778,8.70233333 142.918,8.86066667 142.918,10.444 C142.918,11.546 144.21,11.926 144.21,12.876 C144.21,13.636 142.88,16.866 141.588,16.866 C140.638,16.866 139.232,14.016 139.232,13.142 C139.232,12.154 140.676,11.888 140.676,10.634 C140.676,8.8164878 136.529095,8.70106365 134.742468,8.69584121 L134.254,8.696 L134.254,8.696 C127.11,8.696 126.616,10.026 126.616,10.976 C126.616,13.028 128.744,11.85 129.846,13.94 L136.192,25.758 C136.8,26.898 137.75,28.532 139.232,28.532 Z M170.734,29.824 C172.254,29.824 174.99,27.278 174.99,23.022 C174.99,21.92 174.686,20.172 173.28,20.172 C172.026,20.172 171.342,22.452 168.644,22.452 C167.884,22.452 166.972,21.996 166.972,21.122 C166.972,19.564 173.356,16.448 173.356,11.584 C173.356,8.582 170.696,5.618 164.274,5.618 C159.6,5.618 152.456,8.924 152.456,12.268 C152.456,13.408 153.824,14.472 154.926,14.472 C156.674,14.472 157.13,12.268 159.448,12.268 C160.778,12.268 161.576,13.104 161.576,14.434 C161.576,17.132 156.978,21.882 155.04,23.706 C152.40375,26.20165 152.271059,26.3888238 152.265904,26.8840653 L152.265904,26.9674883 C152.265904,26.98198 152.265904,26.9968 152.265904,27.012 C152.265904,28.076 153.786,28 154.47,28 L167.01,28 C170.468,28 168.644,29.824 170.734,29.824 Z M194.674,29.824 C196.194,29.824 198.93,27.278 198.93,23.022 C198.93,21.92 198.626,20.172 197.22,20.172 C195.966,20.172 195.282,22.452 192.584,22.452 C191.824,22.452 190.912,21.996 190.912,21.122 C190.912,19.564 197.296,16.448 197.296,11.584 C197.296,8.582 194.636,5.618 188.214,5.618 C183.54,5.618 176.396,8.924 176.396,12.268 C176.396,13.408 177.764,14.472 178.866,14.472 C180.614,14.472 181.07,12.268 183.388,12.268 C184.718,12.268 185.516,13.104 185.516,14.434 C185.516,17.132 180.918,21.882 178.98,23.706 C176.34375,26.20165 176.211059,26.3888238 176.205904,26.8840653 L176.205904,26.9674883 C176.205904,26.98198 176.205904,26.9968 176.205904,27.012 C176.205904,28.076 177.726,28 178.41,28 L190.95,28 C194.408,28 192.584,29.824 194.674,29.824 Z",id:"title",fill:"#000000",fillRule:"nonzero"})),w=function(e){var t=e.svgRef,n=e.title,r=y(e,["svgRef","title"]);return a.a.createElement("svg",b({width:"199px",height:"30px",viewBox:"0 0 199 30",ref:t},r),void 0===n?k:n?a.a.createElement("title",null,n):null,j)},E=a.a.forwardRef((function(e,t){return a.a.createElement(w,b({svgRef:t},e))}));n.p;var _=function(e){return a.a.createElement("header",{className:g.a.Header},a.a.createElement("div",null),a.a.createElement("div",{className:g.a.TitleContainer},a.a.createElement("h1",{className:g.a.Heading},e.title),a.a.createElement(E,{className:g.a.TitleImage})),a.a.createElement("button",{className:g.a.ReloadButton,onClick:e.onReloadClick},a.a.createElement(O,{className:g.a.ReloadIcon})))},R=n(14),x=n.n(R);var L=function(e){var t,n;switch(e.status){case"online":t=x.a.OnLine,n="Online";break;case"tryingToConnect":t=x.a.TryingToConnect,n="Connecting to server...";break;default:t=x.a.OffLine,n="Unknown connection status..."}return a.a.createElement("div",{className:t},n)},P=n(6),S=n(2),D=n.n(S);function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var M=a.a.createElement("path",{d:"m12 0c6.627417 0 12 5.372583 12 12s-5.372583 12-12 12-12-5.372583-12-12 5.372583-12 12-12zm0 2c-5.5228475 0-10 4.4771525-10 10s4.4771525 10 10 10 10-4.4771525 10-10-4.4771525-10-10-10zm5.3033009 5.31801948 1.4142135 1.41421357-8.4852814 8.48528135-4.94974742-4.9497474 1.41421356-1.4142136 3.53482676 3.536241z",fillRule:"evenodd"}),N=function(e){var t=e.svgRef,n=e.title,r=T(e,["svgRef","title"]);return a.a.createElement("svg",B({height:24,viewBox:"0 0 24 24",width:24,ref:t},r),n?a.a.createElement("title",null,n):null,M)},A=a.a.forwardRef((function(e,t){return a.a.createElement(N,B({svgRef:t},e))}));n.p;function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var q=a.a.createElement("path",{d:"m12 0c6.627417 0 12 5.372583 12 12s-5.372583 12-12 12-12-5.372583-12-12 5.372583-12 12-12zm0 2c-5.5228475 0-10 4.4771525-10 10s4.4771525 10 10 10 10-4.4771525 10-10-4.4771525-10-10-10z"}),U=function(e){var t=e.svgRef,n=e.title,r=H(e,["svgRef","title"]);return a.a.createElement("svg",Y({height:24,viewBox:"0 0 24 24",width:24,ref:t},r),n?a.a.createElement("title",null,n):null,q)},W=a.a.forwardRef((function(e,t){return a.a.createElement(U,Y({svgRef:t},e))}));n.p;function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var F,V=a.a.createElement("path",{d:"m12 2c5.5228475 0 10 4.4771525 10 10s-4.4771525 10-10 10-10-4.4771525-10-10 4.4771525-10 10-10zm3.5355339 5.05025253-3.5352814 3.53599997-3.53578641-3.53599997-1.41421356 1.41421356 3.53599997 3.53578641-3.53599997 3.5352814 1.41421356 1.4142136 3.53578641-3.535495 3.5352814 3.535495 1.4142136-1.4142136-3.535495-3.5352814 3.535495-3.53578641z",fillRule:"evenodd"}),J=function(e){var t=e.svgRef,n=e.title,r=z(e,["svgRef","title"]);return a.a.createElement("svg",Z({height:24,viewBox:"0 0 24 24",width:24,ref:t},r),n?a.a.createElement("title",null,n):null,V)},Q=a.a.forwardRef((function(e,t){return a.a.createElement(J,Z({svgRef:t},e))})),X=(n.p,a.a.forwardRef((function(e,t){var n=e.onDeleteClick?a.a.createElement("button",{className:D.a.DeleteButton,onClick:function(t){e.onDeleteClick&&e.onDeleteClick({id:e.id})}},a.a.createElement(Q,{className:D.a.DeleteIcon})):null,r=e.hasCheckButton?a.a.createElement("button",{className:D.a.CheckBox,onClick:function(t){e.onCheckClick&&e.onCheckClick({id:e.id,isCompleted:e.isCompleted})}},e.isCompleted?a.a.createElement(A,{className:D.a.Checked}):a.a.createElement(W,{className:D.a.Unchecked})):null,i=e.isCompleted?D.a.textCompleted:D.a.field;return a.a.createElement("li",{className:function(){var t="";return t=e.isCompleted?D.a.ItemCompleted:D.a.Item,e.isBeingDragged&&(t="".concat(t," ").concat(D.a.Dragged)),t}(),ref:t,style:e.itemStyle,onPointerDown:function(t){return e.onPointerDown(t,e.id,e.index,e.text)}},r,a.a.createElement("input",{className:i,type:"text",value:e.text,onChange:function(t){e.onValueChange&&e.onValueChange({id:e.id,text:t.target.value})},disabled:!!e.isCompleted,autoFocus:e.isOpen,onFocus:function(t){return e.text,void(e.onInputFocus&&e.onInputFocus())},onBlur:function(t){return e.text,void(e.onBlur&&e.onBlur({id:e.id}))},onKeyUp:function(t){"Enter"===t.key&&e.onInputEnter({orderId:e.orderId})}}),n)}))),G=n(22),K=n.n(G);function $(e,t,n){var r,a,i,o=Math.round(e/t);return r=o,a=0,i=n,Math.min(Math.max(r,a),i)}function ee(e){var t=e.getBoundingClientRect(),n=window.scrollY;return{top:t.top+n,height:t.height}}function te(e){return ee(e).top}var ne=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={isDragging:!1,dragItemId:null,dragItemHeight:null,dragItemTop:null,dragItemTopEdgeOffsetY:null,dragItemIndex:null,dragItemRelativeOffsetTop:null,dragPointerPageY:null,listRef:a.a.createRef()},r.itemRefs={},r.handlePointerDown=r.handlePointerDown.bind(Object(u.a)(r)),r.handlePointerUp=r.handlePointerUp.bind(Object(u.a)(r)),r.handlePointerCancel=r.handlePointerCancel.bind(Object(u.a)(r)),r.handlePointerMove=r.handlePointerMove.bind(Object(u.a)(r)),r}return Object(d.a)(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.items.find((function(e){return e.id===t.dragItemId}));if(!n)return null;var r=e.items.indexOf(n),a=te(t.listRef.current),i=r*t.dragItemHeight+a;return{dragItemIndex:r,dragItemTop:i,dragItemRelativeOffsetTop:t.dragPointerPageY-i-t.dragItemTopEdgeOffsetY}}}]),Object(d.a)(n,[{key:"componentDidMount",value:function(){}},{key:"reorderItems",value:function(e,t,n){var r=function(e,t,n){var r=Object(c.a)(e);if(t>e.length-1)return console.clear(),console.warn("move(): No item to move at index ".concat(t," in array:")),console.table(e),r;var a=r.splice(t,1)[0];return r.splice(n,0,a),r}(e,t,n),a=null;return r.map((function(e){return null===a?a=e.orderId:a>=e.orderId?a+=1:a=e.orderId,Object(l.a)({},e,{orderId:a})}))}},{key:"startDrag",value:function(e){var t=e.itemId,n=e.offsetY,r=e.pageY,a=e.height,i=e.top,o=e.itemIndex;this.setState({isDragging:!0,dragItemId:t,dragItemHeight:a,dragItemTop:i,dragItemTopEdgeOffsetY:n,dragItemIndex:o,dragPointerPageY:r})}},{key:"stopDrag",value:function(){this.setState({isDragging:!1,dragItemId:null,dragItemHeight:null,dragItemTop:null,dragItemTopEdgeOffsetY:null,dragItemIndex:null,dragItemRelativeOffsetTop:null,dragPointerPageY:null})}},{key:"handlePointerDown",value:function(e,t,n,r){var a=e.pageY,i=ee(e.currentTarget),o=i.height,l=i.top,c={itemId:t,itemIndex:n,height:o,top:l,offsetY:a-l,pageY:a};F=setTimeout(this.startDrag.bind(this,c),500)}},{key:"handlePointerUp",value:function(e){clearTimeout(F),this.state.isDragging&&this.stopDrag()}},{key:"handlePointerCancel",value:function(e){clearTimeout(F),this.state.isDragging&&this.stopDrag()}},{key:"handlePointerMove",value:function(e){if(this.state.isDragging){var t=this.state,n=t.dragItemTopEdgeOffsetY,r=t.dragItemHeight,a=t.dragItemTop,i=t.dragItemIndex,o=te(this.state.listRef.current),c=e.pageY,s=$(c-o-n,r,this.props.items.length-1);if(s===i){var d=c-a-n;this.setState({dragItemRelativeOffsetTop:d,dragPointerPageY:c})}else{var u=s*r+o,h=e.pageY-u-n,m=this.reorderItems(this.props.items,i,s).reduce((function(e,t){return Object(l.a)({},e,Object(P.a)({},t.id,t.orderId))}),{});this.props.onOrderChange(m),this.setState({dragItemRelativeOffsetTop:h,dragPointerPageY:c,dragItemTop:u,dragItemIndex:s})}}}},{key:"getBoundingRects",value:function(e){var t=this;return e.reduce((function(e,n){var r=t.itemRefs[n.id].current.getBoundingClientRect();return Object(l.a)({},e,Object(P.a)({},n.id,r))}),{})}},{key:"didItemOrderChange",value:function(e,t){for(var n=function(n){var r=e[n],a=t.find((function(e){return e.id===r.id}));if(a&&r.orderId!==a.orderId)return{v:!0}},r=0;r<e.length;r+=1){var a=n(r);if("object"===typeof a)return a.v}return!1}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.didItemOrderChange(e.items,this.props.items)?this.getBoundingRects(e.items):null}},{key:"componentDidUpdate",value:function(e,t,n){var r=this;if(n)for(var a=n,i=this.getBoundingRects(this.props.items),o=function(e){var t=r.props.items[e],n=r.itemRefs[t.id].current,o=i[t.id],l=a[t.id];if(!l)return"continue";var c=l.top-o.top;requestAnimationFrame((function(){n.style.transform="translate(0, ".concat(c,"px)"),n.style.transition="transform 0s",requestAnimationFrame((function(){n.style.transform="",n.style.transition="transform 300ms"}))}))},l=0;l<this.props.items.length;l+=1)o(l)}},{key:"getItemElement",value:function(e,t){this.itemRefs[e.id]=this.itemRefs[e.id]||a.a.createRef();var n=e.id===this.state.dragItemId?{top:"".concat(this.state.dragItemRelativeOffsetTop,"px")}:{};return a.a.createElement(X,{key:e.id,ref:this.itemRefs[e.id],text:e.text,isCompleted:e.isCompleted,isBeingDragged:e.id===this.state.dragItemId,itemStyle:n,onValueChange:this.props.onValueChange,onCheckClick:this.props.onCheckClick,onInputEnter:this.props.onInputEnter,id:e.id,index:t,isOpen:e.isOpen,onBlur:this.props.onBlur,orderId:e.orderId,onDeleteClick:this.props.onDeleteClick,hasCheckButton:!0,onPointerDown:this.handlePointerDown})}},{key:"getElementCollection",value:function(e){var t=this;return e.items.map((function(e,n){return t.getItemElement(e,n)}))}},{key:"render",value:function(){var e=this.getElementCollection({items:this.props.items}),t=this.getElementCollection({items:this.props.completedItems});return a.a.createElement("ul",{ref:this.state.listRef,className:K.a.ItemList,onPointerUp:this.handlePointerUp,onPointerCancel:this.handlePointerCancel,onPointerMove:this.handlePointerMove},e,this.props.showCompleted?t:null)}}]),n}(a.a.Component),re=n(23),ae=n.n(re);var ie=function(e){return a.a.createElement("button",{className:ae.a.Button,onClick:e.onClick},e.children)},oe=n(24),le=n.n(oe);var ce=function(e){return a.a.createElement("div",{className:le.a.Toolbar},a.a.createElement(ie,{onClick:e.onAddItemClick},"Add item"),a.a.createElement(ie,{onClick:e.onCompletedToggle},"Toggle completed"))},se=n(45),de=n(25),ue=n(26),he=n(9),me=n.n(he),fe=n(16),ge=n.n(fe);function pe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Ce="linda-groceries.herokuapp.com",ve="https://".concat(Ce),Ie="wss://".concat(Ce,"/cable"),Oe={Accept:"application/json","Content-Type":"application/json"},be=Object(ue.createConsumer)(Ie),ye=Object(se.a)(),ke="disconnected";function je(e){"disconnected"===ke?console.log("AC disconnected, ignoring getItems request."):me.a.getItem("queue").then((function(e){return e=e||[],console.log("Flushing queue: ",e),e.length?(t=e,t.reduce((function(e,t){return e.then((function(){return(e=t,Promise.resolve(new Request(e.url,e))).then((function(e){return fetch(e)}));var e}))}),Promise.resolve())).then((function(){return me.a.setItem("queue",[])})):Promise.resolve();var t})).then((function(){return fetch("".concat(ve,"/items"),{headers:Oe}).then(_e).then(e)}))}function we(e){var t=Object.assign({},e,{clientId:ye});Re(new Request("".concat(ve,"/items"),{method:"post",headers:Oe,body:JSON.stringify(t)}))}function Ee(e){var t=Object.assign({},e,{clientId:ye}),n=new Request("".concat(ve,"/items/").concat(e.id),{method:"put",headers:Oe,body:JSON.stringify(t)});xe(e.id)(n)}function _e(e){return e.json()}function Re(e){"disconnected"===ke?(console.log("AC disconnected, enqueueing request."),function(e){(function(e){var t,n={},r=Object(de.a)(e.headers.entries());try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a[0]]=a[1]}}catch(o){r.e(o)}finally{r.f()}var i={url:e.url,headers:n,method:e.method,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer};if("GET"!==e.method&&"HEAD"!==e.method)return e.clone().text().then((function(e){return i.body=e,Promise.resolve(i)}));return Promise.resolve(i)})(e).then((function(e){me.a.getItem("queue").then((function(t){return(t=t||[]).push(e),me.a.setItem("queue",t).then((function(){console.log(e.method,e.url,"enqueued!")}))}))}))}(e)):fetch(e)}ge()(fetch,1e3);var xe=function(){var e={};return function(t){var n=String(t);if(pe(e,n))return e[n];var r=ge()(Re,1e3);return e[n]=r,r}}();var Le={items:[],showCompleted:!0,onLineStatus:navigator.onLine?"online":"offline"},Pe=function(){return Object.assign({},Le,JSON.parse(window.localStorage.getItem("groceries"))||{})},Se=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state=Pe(),r.handleConnected=r.handleConnected.bind(Object(u.a)(r)),r.handleDisconnected=r.handleDisconnected.bind(Object(u.a)(r)),r.handleReceived=r.handleReceived.bind(Object(u.a)(r)),r.handleAddItemClick=r.handleAddItemClick.bind(Object(u.a)(r)),r.handleDeleteItemClick=r.handleDeleteItemClick.bind(Object(u.a)(r)),r.handleValueChange=r.handleValueChange.bind(Object(u.a)(r)),r.handleCheckClick=r.handleCheckClick.bind(Object(u.a)(r)),r.handleItemBlur=r.handleItemBlur.bind(Object(u.a)(r)),r.handleInputEnter=r.handleInputEnter.bind(Object(u.a)(r)),r.handleReloadClick=r.handleReloadClick.bind(Object(u.a)(r)),r.handleCompletedToggle=r.handleCompletedToggle.bind(Object(u.a)(r)),r.handleOrderChange=r.handleOrderChange.bind(Object(u.a)(r)),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){!function(e){var t=e.onConnected,n=e.onDisconnected,r=e.onReceived;be.subscriptions.create({channel:"ListChannel"},{connected:function(){ke="connected",t()},disconnected:function(){ke="disconnected",n()},received:function(e){r(e)}})}({onConnected:this.handleConnected,onDisconnected:this.handleDisconnected,onReceived:this.handleReceived})}},{key:"componentDidUpdate",value:function(){var e;e=this.state,window.localStorage.setItem("groceries",JSON.stringify(e))}},{key:"loadItems",value:function(){var e=this;je((function(t){e.setState({items:t})}))}},{key:"handleConnected",value:function(){console.log("Connected to Action Cable WebSocket."),this.loadItems(),this.setState({onLineStatus:"online"})}},{key:"handleDisconnected",value:function(){console.log("Disconnected from Action Cable WebSocket."),this.setState({onLineStatus:"tryingToConnect"})}},{key:"hasItem",value:function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].id===t)return!0;return!1}},{key:"handleReceived",value:function(e){if(e.clientId!==ye)switch(e.message_type){case"item_create":this.hasItem(this.state.items,e.item.id)||this.createItem(e.item);break;case"item_update":this.updateItem(e.item);break;case"item_delete":this.deleteItem(e.item.id);break;default:console.log("Unrecognized message type")}}},{key:"createItem",value:function(e){var t=e.id,n=void 0===t?Object(se.a)():t,r=e.orderId,a=e.text,i=void 0===a?"":a,o=e.isCompleted,l=void 0!==o&&o,c=e.isOpen,s={id:n,orderId:r,text:i,isCompleted:l,isOpen:void 0!==c&&c};return this.setState({items:this.state.items.map((function(e){return e.orderId>=s.orderId?Object.assign({},e,{orderId:e.orderId+1}):e})).concat(s)}),s}},{key:"updateItem",value:function(e){this.setState({items:this.state.items.map((function(t){return t.id===e.id?Object.assign({},t,e):t}))})}},{key:"deleteItem",value:function(e){this.setState({items:this.state.items.filter((function(t){return t.id!==e}))})}},{key:"handleAddItemClick",value:function(){var e,t=this.state.items.filter((function(e){return!e.isCompleted})).map((function(e){return e.orderId}));e=t.length>0?Math.max.apply(Math,Object(c.a)(t))+1:0,we(this.createItem({orderId:e,isOpen:!0}))}},{key:"handleInputEnter",value:function(e){var t=e.orderId+1;we(this.createItem({orderId:t,isOpen:!0}))}},{key:"handleDeleteItemClick",value:function(e){var t=e.id;this.deleteItem(t),function(e){var t={clientId:e};Re(new Request("".concat(ve,"/items/").concat(e),{method:"delete",headers:Oe,body:JSON.stringify(t)}))}(t)}},{key:"handleItemBlur",value:function(e){var t=e.id;this.setState({items:this.state.items.map((function(e){return e.id===t?Object.assign({},e,{isOpen:!1}):e}))})}},{key:"handleValueChange",value:function(e){var t=e.id,n=e.text;this.setState({items:this.state.items.map((function(e){if(e.id===t){var r=Object.assign({},e,{text:n});return Ee(r),r}return e}))})}},{key:"handleCheckClick",value:function(e){var t,n=e.id,r=e.isCompleted,a=this.state.items.filter((function(e){return e.isCompleted===!r})).map((function(e){return e.orderId}));t=a.length>0?r?Math.max.apply(Math,Object(c.a)(a))+1:Math.min.apply(Math,Object(c.a)(a))-1:0,this.setState({items:this.state.items.map((function(e){if(e.id===n){var r=Object.assign({},e,{isCompleted:!e.isCompleted,orderId:t});return Ee(r),r}return e}))})}},{key:"handleReloadClick",value:function(){this.loadItems()}},{key:"handleCompletedToggle",value:function(){this.setState((function(e){return pe(e,"showCompleted")?{showCompleted:!e.showCompleted}:{showCompleted:!1}}))}},{key:"handleOrderChange",value:function(e){var t=[];this.setState({items:this.state.items.map((function(n){if(pe(e,n.id)){var r=Object(l.a)({},n,{orderId:e[n.id]});return t.push(r),r}return n}))}),function(e){var t={items:e,clientId:ye};Re(new Request("".concat(ve,"/items/update_many"),{method:"put",headers:Oe,body:JSON.stringify(t)}))}(t)}},{key:"render",value:function(){var e=!pe(this.state,"showCompleted")||this.state.showCompleted,t=this.state.items.filter((function(e){return!e.isCompleted})).sort((function(e,t){return e.orderId-t.orderId})),n=this.state.items.filter((function(e){return e.isCompleted})).sort((function(e,t){return e.orderId-t.orderId}));return a.a.createElement("div",{className:"App"},a.a.createElement(_,{onReloadClick:this.handleReloadClick,title:"Linda v22"}),a.a.createElement(L,{status:this.state.onLineStatus}),a.a.createElement(ne,{items:t,completedItems:n,onValueChange:this.handleValueChange,onOrderChange:this.handleOrderChange,onCheckClick:this.handleCheckClick,onBlur:this.handleItemBlur,onInputEnter:this.handleInputEnter,onAddItemClick:this.handleAddItemClick,onDeleteClick:this.handleDeleteItemClick,showCompleted:e}),a.a.createElement(ce,{onAddItemClick:this.handleAddItemClick,onCompletedToggle:this.handleCompletedToggle}))}}]),n}(a.a.Component),De=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Be(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Se,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/groceries",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/groceries","/service-worker.js");De?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Be(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Be(t,e)}))}}()}},[[28,1,2]]]);
//# sourceMappingURL=main.ca595794.chunk.js.map