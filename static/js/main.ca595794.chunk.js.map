{"version":3,"sources":["OnLineStatusBanner.module.css","Item.module.css","ItemList.module.css","ToolbarButton.module.css","Toolbar.module.css","Header.module.css","reload.svg","title.svg","Header.js","OnLineStatusBanner.js","checked.svg","unchecked.svg","delete.svg","ItemList.js","Item.js","ToolbarButton.js","Toolbar.js","utilities.js","client.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref","svgRef","title","props","height","viewBox","width","ref","ForwardRef","forwardRef","id","stroke","strokeWidth","fill","fillRule","undefined","Header","className","styles","TitleContainer","Heading","TitleImage","ReloadButton","onClick","onReloadClick","ReloadIcon","OnLineStatusBanner","text","status","OnLine","TryingToConnect","OffLine","timeoutId","Item","React","deleteButton","onDeleteClick","DeleteButton","e","DeleteIcon","checkButton","hasCheckButton","CheckBox","onCheckClick","isCompleted","Checked","Unchecked","fieldClassName","textCompleted","field","ItemCompleted","isBeingDragged","Dragged","itemClassName","style","itemStyle","onPointerDown","index","type","value","onChange","onValueChange","disabled","autoFocus","isOpen","onFocus","onInputFocus","onBlur","onKeyUp","onInputEnter","orderId","calculateIndex","localCoordinateY","itemHeight","maxIndex","min","max","Math","round","getCoords","element","rect","getBoundingClientRect","scrollY","window","top","getElementTop","domNode","ItemList","state","isDragging","dragItemId","dragItemHeight","dragItemTop","dragItemTopEdgeOffsetY","dragItemIndex","dragItemRelativeOffsetTop","dragPointerPageY","listRef","createRef","itemRefs","handlePointerDown","bind","handlePointerUp","handlePointerCancel","handlePointerMove","draggedItem","items","find","item","listTop","current","currentIndex","newIndex","reorderedItems","array","prevIndex","nextIndex","arrayCopy","console","clear","warn","table","splice","move","maxOrderId","map","itemId","offsetY","pageY","itemIndex","setState","currentTarget","args","setTimeout","startDrag","clearTimeout","stopDrag","newDragItemTop","orderIdObject","reorderItems","reduce","result","onOrderChange","boundingRects","boundingRect","itemsA","itemsB","itemA","itemB","prevProps","prevState","didItemOrderChange","getBoundingRects","snapshot","prevRects","nextRects","nextRect","prevRect","deltaY","requestAnimationFrame","transform","transition","getItemElement","itemElements","getElementCollection","completedElements","completedItems","onPointerUp","onPointerCancel","onPointerMove","showCompleted","Component","ToolbarButton","Button","children","Toolbar","onAddItemClick","onCompletedToggle","has","object","HOST","API_URL","CABLE_URL","HEADERS","Accept","consumer","createConsumer","uuid","actionCableStatus","getItems","success","log","localforage","getItem","then","queue","requests","prevPromise","serialized","data","Promise","resolve","Request","url","request","fetch","setItem","headers","parseJSON","createItem","clientId","fetchOrEnqueue","method","body","JSON","stringify","updateItem","getThrottledFetchOrEnqueue","response","json","entries","entry","mode","credentials","cache","redirect","referrer","clone","serialize","push","enqueue","throttle","throttledFunctions","itemIdString","String","newThrottledFunction","defaultState","onLineStatus","navigator","onLine","getInitialState","parse","localStorage","App","handleConnected","handleDisconnected","handleReceived","handleAddItemClick","handleDeleteItemClick","handleValueChange","handleCheckClick","handleItemBlur","handleInputEnter","handleReloadClick","handleCompletedToggle","handleOrderChange","onConnected","onDisconnected","onReceived","subscriptions","create","channel","connected","disconnected","received","client","loadItems","message_type","hasItem","deleteItem","newItem","concat","updatedItem","filter","orderIds","newItemOrderId","updated","updatedItems","notCompletedItems","sort","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","document","getElementById","URL","process","href","origin","addEventListener","contentType","get","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.ca595794.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Banner\":\"OnLineStatusBanner_Banner__2Ej-k\",\"OnLine\":\"OnLineStatusBanner_OnLine__3YRCZ OnLineStatusBanner_Banner__2Ej-k\",\"OffLine\":\"OnLineStatusBanner_OffLine__2hC5H OnLineStatusBanner_Banner__2Ej-k\",\"TryingToConnect\":\"OnLineStatusBanner_TryingToConnect__1DeyF OnLineStatusBanner_Banner__2Ej-k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"Item_Item__16sp8\",\"ItemCompleted\":\"Item_ItemCompleted__3IRuI Item_Item__16sp8\",\"Dragged\":\"Item_Dragged__1B27_\",\"field\":\"Item_field__2uX1q\",\"textCompleted\":\"Item_textCompleted__ij3Pf Item_field__2uX1q\",\"CheckBox\":\"Item_CheckBox__hgMI8\",\"Checked\":\"Item_Checked__2Na6Q\",\"Unchecked\":\"Item_Unchecked__gt_ks\",\"DeleteButton\":\"Item_DeleteButton__3jjaR\",\"DeleteIcon\":\"Item_DeleteIcon__1WSAP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ItemList\":\"ItemList_ItemList__4ujzD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"ToolbarButton_Button__3uxur\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbar\":\"Toolbar_Toolbar__1fjPn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__1fHt3\",\"Heading\":\"Header_Heading__CQRSf\",\"ReloadButton\":\"Header_ReloadButton__2mUpS\",\"ReloadIcon\":\"Header_ReloadIcon__3bE06\"};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m13.3254199 1.01518685.0872208.07770637 3.5355339 3.5355339c.3626297.3626297.3885318.9344751.0777064 1.32699275l-.0777064.08722082-3.5355339 3.5355339c-.3905243.39052429-1.0236893.39052429-1.4142136 0-.3626297-.3626297-.3885318-.93447509-.0777063-1.32699275l.0777063-.08722081 2.1438822-2.1432897c-.3039584-.01380945-.655332-.0204143-1.0725216-.02217343l-1.0697877.0015021c-3.3137085 0-6 2.6862915-6 6s2.6862915 6 6 6 6-2.6862915 6-6c0-.5522847.4477153-1 1-1s1 .4477153 1 1c0 4.418278-3.581722 8-8 8s-8-3.581722-8-8 3.581722-8 8-8l1.1081784-.00147832c.1345115.00058353.2633284.00164591.386965.00327194l-1.4967163-1.49468684c-.3626297-.3626297-.3885318-.93447509-.0777063-1.32699275l.0777063-.08722081c.3626297-.3626297.9344751-.38853182 1.3269928-.07770637z\"\n});\n\nvar SvgReload = function SvgReload(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgReload, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/reload.c10736c1.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"title\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\uD83D\\\\uDC1E-Hunting-Bugs\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21.66,28.532 C23.408,28.532 25.536,24.732 25.536,21.768 C25.536,20.324 24.89,18.5 23.18,18.5 C20.748,18.5 22.952,23.782 16.492,23.782 C13.794,23.782 13.338,22.452 13.338,19.716 L13.338,7.632 C13.338,4.06 16.34,5.732 16.34,3.528 C16.34,3.44464516 16.3384183,3.36129032 16.3334181,3.27828243 L16.3231244,3.15407418 C16.1988345,1.99803538 15.2245161,0.944 8.36,0.944 C6.498,0.944 0.532,1.096 0.532,3.87 C0.532,6.036 3.876,4.364 3.952,7.556 C4.028,9.684 4.218,11.812 4.218,14.092 C4.218,16.334 4.218,18.766 4.142,21.54 C4.028,25.948 1.064,23.972 1.064,26.328 C1.064,27.9012 2.63378,27.99696 3.8342,28.00038 L4.09409185,28.000183 C4.13613111,28.0000844 4.17746667,28 4.218,28 L16.91,28 C18.202,28 19.038,28.114 19.76,28.266 C20.444,28.38 20.976,28.532 21.66,28.532 Z M29.336,7.48 C31.502,7.48 36.67,6.72 36.67,3.756 C36.67,1.856 34.504,1.362 32.984,1.362 C31.046,1.362 26.03,2.388 26.03,4.896 C26.03,6.758 27.74,7.48 29.336,7.48 Z M39.102,25.834 C39.102,23.82 36.86,25.454 36.86,20.97 L36.86,10.368 C36.86,9.57 36.822,8.696 35.682,8.696 C35.302,8.696 25.65,9.836 25.65,12.534 C25.65,14.244 27.588,13.826 27.93,15.156 C28.348,16.562 28.272,22.072 27.778,23.402 C27.322,24.58 25.764,24.656 25.764,26.024 C25.764,26.936 26.03,28.418 32.566,28.418 L32.956712,28.417181 C34.911656,28.4059876 39.102,28.2418182 39.102,25.834 Z M52.136,26.138 C52.136,24.694 50.844,25.34 50.844,21.654 L50.844,18.728 C50.844,17.018 50.616,14.396 53.048,14.396 C56.62,14.396 55.556,20.476 55.366,23.174 C55.176,25.644 53.922,24.998 53.922,26.366 C53.922,28.3166667 56.9873333,28.4153611 58.5519306,28.4182639 L58.8188493,28.4182639 C58.8602407,28.4180586 58.9,28.418 58.938,28.418 C65.7248,28.418 65.92696,26.97761 65.930209,26.2471265 L65.930209,26.1729484 C65.930209,26.1610533 65.930209,26.1494 65.930209,26.138 C65.930209,24.504 64.372,25.188 64.182,22.186 C64.1675696,21.9666582 64.1556052,21.7445217 64.1455095,21.520119 L64.1276327,21.0684487 C64.1197632,20.8412593 64.1133642,20.6121562 64.1078385,20.3816678 L64.0977746,19.9190007 C64.0916057,19.6095334 64.0862815,19.29823 64.0803863,18.9863433 L64.0655615,18.2841424 C63.9485688,13.4472604 63.4393165,8.696 57.266,8.696 C55.1,8.696 53.96,9.494 53.2,10.254 C52.44,11.052 52.098,11.85 51.49,11.85 C50.92,11.85 50.73,11.318 50.73,10.862 C50.73,10.634 50.768,10.406 50.768,10.178 C50.768,9.418 50.236,8.696 49.4,8.696 C48.64,8.696 39.9,10.596 39.9,12.61 C39.9,14.624 42.218,13.712 42.142,16.524 L41.99,22.224 C41.876,25.948 40.128,24.314 40.128,26.138 C40.128,28.298 43.6067368,28.4116842 45.2653296,28.4176676 L45.524,28.418 L45.524,28.418 L45.6382624,28.4182639 L45.6382624,28.4182639 L45.8982398,28.4182639 C47.762609,28.4167669 52.136,28.3296279 52.136,26.138 Z M75.81,28.532 C77.482,28.532 78.66,27.962 79.534,27.43 C80.408,26.86 80.978,26.328 81.32,26.328 C82.574,26.328 81.206,28.418 83.144,28.418 C83.562,28.418 91.884,28.228 91.884,25.34 C91.884,23.364 89.87,24.238 89.87,21.578 L89.87,3.414 C89.87,2.16 89.604,1.362 88.464,1.362 C88.35,1.362 78.66,2.084 78.66,4.896 C78.66,6.948 81.434,5.694 81.434,8.05 C81.434,8.468 81.396,9.722 80.826,9.722 C80.408,9.722 78.926,8.582 76.304,8.582 C71.06,8.582 66.956,13.522 66.956,18.576 C66.956,23.25 70.832,28.532 75.81,28.532 Z M79.078,23.782 C76.722,23.782 76.266,20.666 76.266,18.88 C76.266,17.094 76.722,12.724 79.268,12.724 C81.472,12.724 81.472,15.954 81.472,17.436 L81.4726997,17.6880129 C81.4728852,17.7330048 81.4730811,17.7794271 81.4732517,17.8271834 L81.4731356,18.2903999 C81.4618886,20.3213694 81.2687442,23.782 79.078,23.782 Z M108.642,28.532 C111.416,28.532 114.38,26.176 114.38,24.01 C114.38,23.2156774 114.038356,23.2754651 113.619566,23.2592095 L113.513415,23.2530231 C112.868699,23.1999396 112.1,22.8013548 112.1,18.918 L112.1,15.118 C112.1,9.418 106.172,8.582 104.006,8.582 C100.396,8.582 93.974,10.672 93.974,13.902 C93.974,15.118 94.886,15.992 96.102,15.992 C99.484,15.992 99.712,11.888 101.992,11.888 C103.74,11.888 103.778,14.51 103.778,15.764 C103.778,16.961 103.370688,17.0524375 102.479691,17.0565937 L102.211894,17.0562859 C102.165045,17.0561319 102.117083,17.056 102.068,17.056 C95.38,17.056 92.796,20.4 92.796,23.098 C92.796,26.86 95.95,28.532 99.104,28.532 C100.852,28.532 101.992,28.038 102.828,27.544 C103.664,27.088 104.158,26.594 104.614,26.594 C105.564,26.594 105.64,28.532 108.642,28.532 Z M102.334,24.314 C101.232,24.314 100.7,23.25 100.7,22.262 C100.7,21.046 101.574,19.83 102.866,19.83 C103.833273,19.83 103.889802,20.615124 103.892086,21.385973 L103.892,21.616 L103.892,21.616 C103.892,22.756 103.778,24.314 102.334,24.314 Z M139.232,28.532 C140.106,28.532 141.132,28 142.386,25.606 L148.618,13.484 C149.72,11.356 152.19,12.192 152.19,10.368 C152.19,8.696 149.34,8.696 148.238,8.696 C148.111333,8.696 147.947136,8.69412346 147.755311,8.69339369 L147.448093,8.69339369 C145.820778,8.70233333 142.918,8.86066667 142.918,10.444 C142.918,11.546 144.21,11.926 144.21,12.876 C144.21,13.636 142.88,16.866 141.588,16.866 C140.638,16.866 139.232,14.016 139.232,13.142 C139.232,12.154 140.676,11.888 140.676,10.634 C140.676,8.8164878 136.529095,8.70106365 134.742468,8.69584121 L134.254,8.696 L134.254,8.696 C127.11,8.696 126.616,10.026 126.616,10.976 C126.616,13.028 128.744,11.85 129.846,13.94 L136.192,25.758 C136.8,26.898 137.75,28.532 139.232,28.532 Z M170.734,29.824 C172.254,29.824 174.99,27.278 174.99,23.022 C174.99,21.92 174.686,20.172 173.28,20.172 C172.026,20.172 171.342,22.452 168.644,22.452 C167.884,22.452 166.972,21.996 166.972,21.122 C166.972,19.564 173.356,16.448 173.356,11.584 C173.356,8.582 170.696,5.618 164.274,5.618 C159.6,5.618 152.456,8.924 152.456,12.268 C152.456,13.408 153.824,14.472 154.926,14.472 C156.674,14.472 157.13,12.268 159.448,12.268 C160.778,12.268 161.576,13.104 161.576,14.434 C161.576,17.132 156.978,21.882 155.04,23.706 C152.40375,26.20165 152.271059,26.3888238 152.265904,26.8840653 L152.265904,26.9674883 C152.265904,26.98198 152.265904,26.9968 152.265904,27.012 C152.265904,28.076 153.786,28 154.47,28 L167.01,28 C170.468,28 168.644,29.824 170.734,29.824 Z M194.674,29.824 C196.194,29.824 198.93,27.278 198.93,23.022 C198.93,21.92 198.626,20.172 197.22,20.172 C195.966,20.172 195.282,22.452 192.584,22.452 C191.824,22.452 190.912,21.996 190.912,21.122 C190.912,19.564 197.296,16.448 197.296,11.584 C197.296,8.582 194.636,5.618 188.214,5.618 C183.54,5.618 176.396,8.924 176.396,12.268 C176.396,13.408 177.764,14.472 178.866,14.472 C180.614,14.472 181.07,12.268 183.388,12.268 C184.718,12.268 185.516,13.104 185.516,14.434 C185.516,17.132 180.918,21.882 178.98,23.706 C176.34375,26.20165 176.211059,26.3888238 176.205904,26.8840653 L176.205904,26.9674883 C176.205904,26.98198 176.205904,26.9968 176.205904,27.012 C176.205904,28.076 177.726,28 178.41,28 L190.95,28 C194.408,28 192.584,29.824 194.674,29.824 Z\",\n  id: \"title\",\n  fill: \"#000000\",\n  fillRule: \"nonzero\"\n}));\n\nvar SvgTitle = function SvgTitle(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"199px\",\n    height: \"30px\",\n    viewBox: \"0 0 199 30\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgTitle, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/title.793e38a5.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styles from './Header.module.css';\nimport { ReactComponent as Reload } from './reload.svg';\nimport { ReactComponent as Title } from './title.svg';\n\nfunction Header(props) {\n  return (\n    <header className={styles.Header}>\n      <div></div>\n      <div className={styles.TitleContainer}>\n        <h1 className={styles.Heading}>{props.title}</h1>\n        <Title className={styles.TitleImage} />\n      </div>\n\n      <button className={styles.ReloadButton} onClick={props.onReloadClick}>\n        <Reload className={styles.ReloadIcon} />\n      </button>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport styles from './OnLineStatusBanner.module.css';\n\nfunction OnLineStatusBanner(props) {\n  let className;\n  let text;\n\n  switch (props.status) {\n    case 'online':\n      className = styles.OnLine;\n      text = 'Online';\n      break;\n    case 'tryingToConnect':\n      className = styles.TryingToConnect;\n      text = 'Connecting to server...';\n      break;\n    default:\n      className = styles.OffLine;\n      text = 'Unknown connection status...';\n  }\n\n  return <div className={className}>{text}</div>;\n}\n\nexport default OnLineStatusBanner;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m12 0c6.627417 0 12 5.372583 12 12s-5.372583 12-12 12-12-5.372583-12-12 5.372583-12 12-12zm0 2c-5.5228475 0-10 4.4771525-10 10s4.4771525 10 10 10 10-4.4771525 10-10-4.4771525-10-10-10zm5.3033009 5.31801948 1.4142135 1.41421357-8.4852814 8.48528135-4.94974742-4.9497474 1.41421356-1.4142136 3.53482676 3.536241z\",\n  fillRule: \"evenodd\"\n});\n\nvar SvgChecked = function SvgChecked(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgChecked, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/checked.cc96fd33.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m12 0c6.627417 0 12 5.372583 12 12s-5.372583 12-12 12-12-5.372583-12-12 5.372583-12 12-12zm0 2c-5.5228475 0-10 4.4771525-10 10s4.4771525 10 10 10 10-4.4771525 10-10-4.4771525-10-10-10z\"\n});\n\nvar SvgUnchecked = function SvgUnchecked(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUnchecked, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/unchecked.6203d88c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m12 2c5.5228475 0 10 4.4771525 10 10s-4.4771525 10-10 10-10-4.4771525-10-10 4.4771525-10 10-10zm3.5355339 5.05025253-3.5352814 3.53599997-3.53578641-3.53599997-1.41421356 1.41421356 3.53599997 3.53578641-3.53599997 3.5352814 1.41421356 1.4142136 3.53578641-3.535495 3.5352814 3.535495 1.4142136-1.4142136-3.535495-3.5352814 3.535495-3.53578641z\",\n  fillRule: \"evenodd\"\n});\n\nvar SvgDelete = function SvgDelete(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDelete, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/delete.1cf2698b.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport Item from './Item';\nimport styles from './ItemList.module.css';\n\nconst TIMEOUT_MS = 500;\nlet timeoutId;\n\nfunction move(array, prevIndex, nextIndex) {\n  const arrayCopy = [...array];\n\n  if (prevIndex > array.length - 1) {\n    console.clear();\n    console.warn(`move(): No item to move at index ${prevIndex} in array:`);\n    console.table(array);\n    return arrayCopy;\n  }\n\n  const item = arrayCopy.splice(prevIndex, 1)[0];\n  arrayCopy.splice(nextIndex, 0, item);\n  return arrayCopy;\n}\n\nfunction clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n\nfunction calculateIndex(localCoordinateY, itemHeight, maxIndex) {\n  const index = Math.round(localCoordinateY / itemHeight);\n  return clamp(index, 0, maxIndex);\n}\n\nfunction getTopRelativeToParent(\n  cursorPageY,\n  parentTopEdgeY,\n  elementTopEdgeOffsetY\n) {\n  return cursorPageY - parentTopEdgeY - elementTopEdgeOffsetY;\n}\n\nfunction getCoords(element) {\n  const rect = element.getBoundingClientRect();\n  const scrollY = window.scrollY;\n\n  return {\n    top: rect.top + scrollY,\n    height: rect.height,\n  };\n}\n\nfunction getElementTop(domNode) {\n  const { top: elementTop } = getCoords(domNode);\n  return elementTop;\n}\n\nclass ItemList extends React.Component {\n  static getDerivedStateFromProps(props, state) {\n    const draggedItem = props.items.find(\n      (item) => item.id === state.dragItemId\n    );\n    if (!draggedItem) {\n      return null;\n    }\n\n    const dragItemIndex = props.items.indexOf(draggedItem);\n    const listTop = getElementTop(state.listRef.current);\n    const dragItemTop = dragItemIndex * state.dragItemHeight + listTop;\n    const dragItemRelativeOffsetTop =\n      state.dragPointerPageY - dragItemTop - state.dragItemTopEdgeOffsetY;\n    return { dragItemIndex, dragItemTop, dragItemRelativeOffsetTop };\n  }\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isDragging: false,\n      dragItemId: null,\n      dragItemHeight: null,\n      dragItemTop: null,\n      dragItemTopEdgeOffsetY: null,\n      dragItemIndex: null,\n      dragItemRelativeOffsetTop: null,\n      dragPointerPageY: null,\n      listRef: React.createRef(),\n    };\n\n    // this.listRef = React.createRef();\n    this.itemRefs = {};\n\n    this.handlePointerDown = this.handlePointerDown.bind(this);\n    this.handlePointerUp = this.handlePointerUp.bind(this);\n    this.handlePointerCancel = this.handlePointerCancel.bind(this);\n    this.handlePointerMove = this.handlePointerMove.bind(this);\n  }\n\n  componentDidMount() {\n    // console.log(\"ItemList: componentDidMount\");\n  }\n\n  reorderItems(items, currentIndex, newIndex) {\n    const reorderedItems = move(items, currentIndex, newIndex);\n    let maxOrderId = null;\n\n    return reorderedItems.map((item) => {\n      if (maxOrderId === null) {\n        maxOrderId = item.orderId;\n      } else if (maxOrderId >= item.orderId) {\n        maxOrderId += 1;\n      } else {\n        maxOrderId = item.orderId;\n      }\n\n      return { ...item, orderId: maxOrderId };\n    });\n  }\n\n  startDrag({ itemId, offsetY, pageY, height, top, itemIndex }) {\n    // console.log('startDrag');\n    this.setState({\n      isDragging: true,\n      dragItemId: itemId,\n      dragItemHeight: height,\n      dragItemTop: top,\n      dragItemTopEdgeOffsetY: offsetY,\n      dragItemIndex: itemIndex,\n      dragPointerPageY: pageY,\n    });\n  }\n\n  stopDrag() {\n    // console.log('stopDrag');\n    this.setState({\n      isDragging: false,\n      dragItemId: null,\n      dragItemHeight: null,\n      dragItemTop: null,\n      dragItemTopEdgeOffsetY: null,\n      dragItemIndex: null,\n      dragItemRelativeOffsetTop: null,\n      dragPointerPageY: null,\n    });\n  }\n\n  handlePointerDown(e, itemId, itemIndex, text) {\n    // console.log(\"handlePointerDown\", text);\n    const pageY = e.pageY;\n    const { height, top } = getCoords(e.currentTarget);\n    const offsetY = pageY - top;\n    const args = {\n      itemId,\n      itemIndex,\n      height,\n      top,\n      offsetY,\n      pageY,\n    };\n    timeoutId = setTimeout(this.startDrag.bind(this, args), TIMEOUT_MS);\n  }\n\n  handlePointerUp(e) {\n    clearTimeout(timeoutId);\n\n    if (this.state.isDragging) {\n      this.stopDrag();\n    }\n  }\n\n  handlePointerCancel(e) {\n    clearTimeout(timeoutId);\n\n    if (this.state.isDragging) {\n      this.stopDrag();\n    }\n  }\n\n  handlePointerMove(e) {\n    if (!this.state.isDragging) {\n      return;\n    }\n    const {\n      dragItemTopEdgeOffsetY,\n      dragItemHeight,\n      dragItemTop,\n      dragItemIndex,\n    } = this.state;\n\n    const listElement = this.state.listRef.current;\n    const listTop = getElementTop(listElement);\n    const dragPointerPageY = e.pageY;\n\n    const itemTopRelativeToParent = getTopRelativeToParent(\n      dragPointerPageY,\n      listTop,\n      dragItemTopEdgeOffsetY\n    );\n    const newIndex = calculateIndex(\n      itemTopRelativeToParent,\n      dragItemHeight,\n      this.props.items.length - 1\n    );\n\n    if (newIndex === dragItemIndex) {\n      const dragItemRelativeOffsetTop =\n        dragPointerPageY - dragItemTop - dragItemTopEdgeOffsetY;\n\n      this.setState({\n        dragItemRelativeOffsetTop,\n        dragPointerPageY,\n      });\n    } else {\n      // console.log(`index ${dragItemIndex}  ${newIndex}`);\n      const newDragItemTop = newIndex * dragItemHeight + listTop;\n      const dragItemRelativeOffsetTop =\n        e.pageY - newDragItemTop - dragItemTopEdgeOffsetY;\n\n      const reorderedItems = this.reorderItems(\n        this.props.items,\n        dragItemIndex,\n        newIndex\n      );\n\n      const orderIdObject = reorderedItems.reduce((result, item) => {\n        return { ...result, [item.id]: item.orderId };\n      }, {});\n\n      this.props.onOrderChange(orderIdObject);\n\n      this.setState({\n        dragItemRelativeOffsetTop,\n        dragPointerPageY,\n        dragItemTop: newDragItemTop,\n        dragItemIndex: newIndex,\n      });\n    }\n  }\n\n  getBoundingRects(items) {\n    return items.reduce((boundingRects, item) => {\n      const domNode = this.itemRefs[item.id].current;\n      const boundingRect = domNode.getBoundingClientRect();\n      return { ...boundingRects, [item.id]: boundingRect };\n    }, {});\n  }\n\n  didItemOrderChange(itemsA, itemsB) {\n    for (let i = 0; i < itemsA.length; i += 1) {\n      const itemA = itemsA[i];\n      const itemB = itemsB.find((item) => item.id === itemA.id);\n      if (itemB && itemA.orderId !== itemB.orderId) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    const orderChanged = this.didItemOrderChange(\n      prevProps.items,\n      this.props.items\n    );\n\n    if (orderChanged) {\n      return this.getBoundingRects(prevProps.items);\n    } else {\n      return null;\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    // console.log(\"ItemList: componentDidUpdate\");\n    if (!snapshot) {\n      return;\n    }\n\n    const prevRects = snapshot;\n    const nextRects = this.getBoundingRects(this.props.items);\n    for (let i = 0; i < this.props.items.length; i += 1) {\n      const item = this.props.items[i];\n      const domNode = this.itemRefs[item.id].current;\n      const nextRect = nextRects[item.id];\n      const prevRect = prevRects[item.id];\n\n      if (!prevRect) {\n        continue;\n      }\n\n      const deltaY = prevRect.top - nextRect.top;\n      requestAnimationFrame(() => {\n        domNode.style.transform = `translate(0, ${deltaY}px)`;\n        domNode.style.transition = 'transform 0s';\n        requestAnimationFrame(() => {\n          domNode.style.transform = '';\n          domNode.style.transition = 'transform 300ms';\n        });\n      });\n    }\n  }\n\n  getItemElement(item, index) {\n    this.itemRefs[item.id] = this.itemRefs[item.id] || React.createRef();\n\n    const itemStyle =\n      item.id === this.state.dragItemId\n        ? { top: `${this.state.dragItemRelativeOffsetTop}px` }\n        : {};\n\n    return (\n      <Item\n        key={item.id}\n        ref={this.itemRefs[item.id]}\n        text={item.text}\n        isCompleted={item.isCompleted}\n        isBeingDragged={item.id === this.state.dragItemId}\n        itemStyle={itemStyle}\n        onValueChange={this.props.onValueChange}\n        onCheckClick={this.props.onCheckClick}\n        onInputEnter={this.props.onInputEnter}\n        id={item.id}\n        index={index}\n        isOpen={item.isOpen}\n        onBlur={this.props.onBlur}\n        orderId={item.orderId}\n        onDeleteClick={this.props.onDeleteClick}\n        hasCheckButton={true}\n        onPointerDown={this.handlePointerDown}\n      ></Item>\n    );\n  }\n\n  getElementCollection({ items }) {\n    return items.map((item, index) => this.getItemElement(item, index));\n  }\n\n  render() {\n    const itemElements = this.getElementCollection({\n      items: this.props.items,\n    });\n    const completedElements = this.getElementCollection({\n      items: this.props.completedItems,\n    });\n\n    return (\n      <ul\n        ref={this.state.listRef}\n        className={styles.ItemList}\n        onPointerUp={this.handlePointerUp}\n        onPointerCancel={this.handlePointerCancel}\n        onPointerMove={this.handlePointerMove}\n      >\n        {itemElements}\n        {this.props.showCompleted ? completedElements : null}\n      </ul>\n    );\n  }\n}\n\nexport default ItemList;\n","import React from \"react\";\nimport styles from \"./Item.module.css\";\nimport { ReactComponent as Checked } from \"./checked.svg\";\nimport { ReactComponent as Unchecked } from \"./unchecked.svg\";\nimport { ReactComponent as Delete } from \"./delete.svg\";\n\nconst Item = React.forwardRef((props, ref) => {\n  const handleValueChange = (e) => {\n    if (props.onValueChange) {\n      props.onValueChange({\n        id: props.id,\n        text: e.target.value,\n      });\n    }\n  };\n\n  const handleCheckClick = (e) => {\n    if (props.onCheckClick) {\n      props.onCheckClick({\n        id: props.id,\n        isCompleted: props.isCompleted,\n      });\n    }\n  };\n\n  const handleDeleteClick = (e) => {\n    if (props.onDeleteClick) {\n      props.onDeleteClick({\n        id: props.id,\n      });\n    }\n  };\n\n  const handleInputFocus = (e, text) => {\n    // console.log(\"handleInputFocus\", text);\n    if (props.onInputFocus) {\n      props.onInputFocus();\n    }\n  };\n\n  const handleInputBlur = (e, text) => {\n    // console.log(\"handleInputBlur\", text);\n    if (props.onBlur) {\n      props.onBlur({ id: props.id });\n    }\n  };\n\n  const handleKeyUp = (e) => {\n    if (e.key === \"Enter\") {\n      props.onInputEnter({ orderId: props.orderId });\n    }\n  };\n\n  const deleteButton = props.onDeleteClick ? (\n    <button className={styles.DeleteButton} onClick={handleDeleteClick}>\n      <Delete className={styles.DeleteIcon} />\n    </button>\n  ) : null;\n  const checkButton = props.hasCheckButton ? (\n    <button className={styles.CheckBox} onClick={handleCheckClick}>\n      {props.isCompleted ? (\n        <Checked className={styles.Checked} />\n      ) : (\n        <Unchecked className={styles.Unchecked} />\n      )}\n    </button>\n  ) : null;\n  const itemClassName = function getItemClassName() {\n    let className = \"\";\n\n    if (props.isCompleted) {\n      className = styles.ItemCompleted;\n    } else {\n      className = styles.Item;\n    }\n\n    if (props.isBeingDragged) {\n      className = `${className} ${styles.Dragged}`;\n    }\n\n    return className;\n  };\n\n  const fieldClassName = props.isCompleted\n    ? styles.textCompleted\n    : styles.field;\n\n  return (\n    <li\n      className={itemClassName()}\n      ref={ref}\n      style={props.itemStyle}\n      onPointerDown={(e) =>\n        props.onPointerDown(e, props.id, props.index, props.text)\n      }\n    >\n      {checkButton}\n      <input\n        className={fieldClassName}\n        type=\"text\"\n        value={props.text}\n        onChange={handleValueChange}\n        disabled={props.isCompleted ? true : false}\n        autoFocus={props.isOpen}\n        onFocus={(e) => handleInputFocus(e, props.text)}\n        onBlur={(e) => handleInputBlur(e, props.text)}\n        onKeyUp={handleKeyUp}\n      ></input>\n      {deleteButton}\n    </li>\n  );\n});\n\nexport default Item;\n","import React from \"react\";\nimport styles from \"./ToolbarButton.module.css\";\n\nfunction ToolbarButton(props) {\n  return (\n    <button className={styles.Button} onClick={props.onClick}>\n      {props.children}\n    </button>\n  );\n}\n\nexport default ToolbarButton;\n","import React from \"react\";\nimport ToolbarButton from \"./ToolbarButton\";\nimport styles from \"./Toolbar.module.css\";\n\nfunction Toolbar(props) {\n  return (\n    <div className={styles.Toolbar}>\n      <ToolbarButton onClick={props.onAddItemClick}>Add item</ToolbarButton>\n      <ToolbarButton onClick={props.onCompletedToggle}>\n        Toggle completed\n      </ToolbarButton>\n    </div>\n  );\n}\n\nexport default Toolbar;\n","function arrayLast(array) {\n  return array[array.length - 1];\n}\n\nfunction has(object, key) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n}\n\nfunction presence(object, key) {\n  if (has(object, key)) {\n    return object[key];\n  } else {\n    return null;\n  }\n}\n\nfunction logEvent(e) {\n  console.log(\n    `${e.type}, target: ${e.target.id}, currentTarget: ${e.currentTarget.id}, timeStamp: ${e.timeStamp}`\n  );\n}\n\nfunction clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n\nexport { arrayLast, has, presence, logEvent, clamp };\n","import { createConsumer } from '@rails/actioncable';\nimport { v4 as uuid } from 'uuid';\nimport localforage from 'localforage';\nimport throttle from 'lodash/throttle';\nimport { has } from './utilities';\n\nconst HOST =\n  process.env.NODE_ENV === 'production'\n    ? 'linda-groceries.herokuapp.com'\n    : 'api.groceries.andy:9000';\nconst API_URL =\n  process.env.NODE_ENV === 'production' ? `https://${HOST}` : `https://${HOST}`;\n// const API_URL = '';\nconst CABLE_URL =\n  process.env.NODE_ENV === 'production'\n    ? `wss://${HOST}/cable`\n    : `wss://${HOST}/cable`;\nconst HEADERS = {\n  Accept: 'application/json',\n  'Content-Type': 'application/json',\n};\nconst REQUEST_THROTTLE_MS = 1000;\nconst consumer = createConsumer(CABLE_URL);\nexport const id = uuid();\nlet actionCableStatus = 'disconnected';\n\nexport function subscribeToUpdates({\n  onConnected,\n  onDisconnected,\n  onReceived,\n}) {\n  consumer.subscriptions.create(\n    {\n      channel: 'ListChannel',\n    },\n    {\n      connected() {\n        actionCableStatus = 'connected';\n        onConnected();\n      },\n\n      disconnected() {\n        actionCableStatus = 'disconnected';\n        onDisconnected();\n      },\n\n      received(data) {\n        onReceived(data);\n      },\n    }\n  );\n}\n\nexport function getItems(success) {\n  if (actionCableStatus === 'disconnected') {\n    console.log('AC disconnected, ignoring getItems request.');\n  } else {\n    // Flush offline request queue before fetching items\n    flushQueue().then(() =>\n      fetch(`${API_URL}/items`, {\n        headers: HEADERS,\n      })\n        .then(parseJSON)\n        .then(success)\n    );\n  }\n}\n\nexport function createItem(item) {\n  const data = Object.assign({}, item, { clientId: id });\n  const request = new Request(`${API_URL}/items`, {\n    method: 'post',\n    headers: HEADERS,\n    body: JSON.stringify(data),\n  });\n  fetchOrEnqueue(request);\n}\n\nexport function updateItem(item) {\n  const data = Object.assign({}, item, { clientId: id });\n  const request = new Request(`${API_URL}/items/${item.id}`, {\n    method: 'put',\n    headers: HEADERS,\n    body: JSON.stringify(data),\n  });\n  getThrottledFetchOrEnqueue(item.id)(request);\n}\n\nexport function updateManyItems(items) {\n  const data = { items, clientId: id };\n  const request = new Request(`${API_URL}/items/update_many`, {\n    method: 'put',\n    headers: HEADERS,\n    body: JSON.stringify(data),\n  });\n  fetchOrEnqueue(request);\n}\n\nexport function deleteItem(id) {\n  const data = { clientId: id };\n  const request = new Request(`${API_URL}/items/${id}`, {\n    method: 'delete',\n    headers: HEADERS,\n    body: JSON.stringify(data),\n  });\n  fetchOrEnqueue(request);\n}\n\nfunction parseJSON(response) {\n  return response.json();\n}\n\nfunction fetchOrEnqueue(request) {\n  if (actionCableStatus === 'disconnected') {\n    console.log('AC disconnected, enqueueing request.');\n    enqueue(request);\n  } else {\n    fetch(request);\n  }\n}\n\nconst throttledFetch = throttle(fetch, REQUEST_THROTTLE_MS);\n\nconst getThrottledFetchOrEnqueue = (function makeGetThrottledFetchOrEnqueue() {\n  const throttledFunctions = {};\n\n  return function getThrottledFetchOrEnqueue(itemId) {\n    const itemIdString = String(itemId);\n\n    if (has(throttledFunctions, itemIdString)) {\n      return throttledFunctions[itemIdString];\n    } else {\n      const newThrottledFunction = throttle(\n        fetchOrEnqueue,\n        REQUEST_THROTTLE_MS\n      );\n      throttledFunctions[itemIdString] = newThrottledFunction;\n      return newThrottledFunction;\n    }\n  };\n})();\n\n// By using Mozilla's localforage db wrapper, we can count on\n// a fast setup for a versatile key-value database. We use\n// it to store queue of deferred requests.\n\n// Enqueue consists of adding a request to the list. Due to the\n// limitations of IndexedDB, Request and Response objects can not\n// be saved so we need an alternative representations. This is\n// why we call to `serialize()`.`\nfunction enqueue(request) {\n  return serialize(request).then(function (serialized) {\n    localforage.getItem('queue').then(function (queue) {\n      /* eslint no-param-reassign: 0 */\n      queue = queue || [];\n      queue.push(serialized);\n      return localforage.setItem('queue', queue).then(function () {\n        console.log(serialized.method, serialized.url, 'enqueued!');\n      });\n    });\n  });\n}\n\n// Flush is a little more complicated. It consists of getting\n// the elements of the queue in order and sending each one,\n// keeping track of not yet sent request. Before sending a request\n// we need to recreate it from the alternative representation\n// stored in IndexedDB.\nfunction flushQueue() {\n  // Get the queue\n  return localforage.getItem('queue').then(function (queue) {\n    /* eslint no-param-reassign: 0 */\n    queue = queue || [];\n    console.log('Flushing queue: ', queue);\n\n    // If empty, nothing to do!\n    if (!queue.length) {\n      return Promise.resolve();\n    }\n\n    // Else, send the requests in order...\n    // console.log('Sending ', queue.length, ' requests...');\n    return sendInOrder(queue).then(function () {\n      // **Requires error handling**. Actually, this is assuming all the requests\n      // in queue are a success when reaching the Network. So it should empty the\n      // queue step by step, only popping from the queue if the request completes\n      // with success.\n      return localforage.setItem('queue', []);\n    });\n  });\n}\n\n// Send the requests inside the queue in order. Waiting for the current before\n// sending the next one.\nfunction sendInOrder(requests) {\n  // The `reduce()` chains one promise per serialized request, not allowing to\n  // progress to the next one until completing the current.\n  var sending = requests.reduce(function (prevPromise, serialized) {\n    // console.log('Sending', serialized.method, serialized.url);\n    return prevPromise.then(function () {\n      return deserialize(serialized).then(function (request) {\n        return fetch(request);\n      });\n    });\n  }, Promise.resolve());\n  return sending;\n}\n\n// Serialize is a little bit convolved due to headers is not a simple object.\nfunction serialize(request) {\n  var headers = {};\n  // `for(... of ...)` is ES6 notation but current browsers supporting SW, support this\n  // notation as well and this is the only way of retrieving all the headers.\n  for (var entry of request.headers.entries()) {\n    headers[entry[0]] = entry[1];\n  }\n  var serialized = {\n    url: request.url,\n    headers: headers,\n    method: request.method,\n    mode: request.mode,\n    credentials: request.credentials,\n    cache: request.cache,\n    redirect: request.redirect,\n    referrer: request.referrer,\n  };\n\n  // Only if method is not `GET` or `HEAD` is the request allowed to have body.\n  if (request.method !== 'GET' && request.method !== 'HEAD') {\n    return request\n      .clone()\n      .text()\n      .then(function (body) {\n        serialized.body = body;\n        return Promise.resolve(serialized);\n      });\n  }\n  return Promise.resolve(serialized);\n}\n\n// Compared, deserialize is pretty simple.\nfunction deserialize(data) {\n  return Promise.resolve(new Request(data.url, data));\n}\n","import React from 'react';\nimport './App.css';\nimport Header from './Header';\nimport OnLineStatusBanner from './OnLineStatusBanner';\nimport ItemList from './ItemList';\nimport Toolbar from './Toolbar';\nimport { v4 as uuid } from 'uuid';\nimport * as client from './client';\nimport { has } from './utilities';\n\nconst APP_TITLE = 'Linda v22';\n\nconst defaultState = {\n  items: [],\n  showCompleted: true,\n  onLineStatus: navigator.onLine ? 'online' : 'offline',\n};\n\nconst LOCAL_STORAGE_KEY = 'groceries';\nconst getLocalStorageState = function getLocalStorageState() {\n  const state = JSON.parse(window.localStorage.getItem(LOCAL_STORAGE_KEY));\n\n  return state || {};\n};\n\nconst getInitialState = () => {\n  return Object.assign({}, defaultState, getLocalStorageState());\n};\n\nconst saveData = (data) =>\n  window.localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(data));\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = getInitialState();\n\n    this.handleConnected = this.handleConnected.bind(this);\n    this.handleDisconnected = this.handleDisconnected.bind(this);\n    this.handleReceived = this.handleReceived.bind(this);\n    this.handleAddItemClick = this.handleAddItemClick.bind(this);\n    this.handleDeleteItemClick = this.handleDeleteItemClick.bind(this);\n    this.handleValueChange = this.handleValueChange.bind(this);\n    this.handleCheckClick = this.handleCheckClick.bind(this);\n    this.handleItemBlur = this.handleItemBlur.bind(this);\n    this.handleInputEnter = this.handleInputEnter.bind(this);\n    this.handleReloadClick = this.handleReloadClick.bind(this);\n    this.handleCompletedToggle = this.handleCompletedToggle.bind(this);\n    this.handleOrderChange = this.handleOrderChange.bind(this);\n  }\n\n  componentDidMount() {\n    client.subscribeToUpdates({\n      onConnected: this.handleConnected,\n      onDisconnected: this.handleDisconnected,\n      onReceived: this.handleReceived,\n    });\n  }\n\n  componentDidUpdate() {\n    saveData(this.state);\n  }\n\n  loadItems() {\n    client.getItems((items) => {\n      this.setState({ items });\n    });\n  }\n\n  handleConnected() {\n    console.log('Connected to Action Cable WebSocket.');\n    this.loadItems();\n    this.setState({\n      onLineStatus: 'online',\n    });\n  }\n\n  handleDisconnected() {\n    console.log('Disconnected from Action Cable WebSocket.');\n    this.setState({\n      onLineStatus: 'tryingToConnect',\n    });\n  }\n\n  hasItem(items, id) {\n    for (let i = 0; i < items.length; i += 1) {\n      if (items[i].id === id) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  handleReceived(data) {\n    // Ignore received data if the change originated with this client\n    if (data.clientId === client.id) {\n      return;\n    }\n\n    switch (data.message_type) {\n      case 'item_create':\n        if (!this.hasItem(this.state.items, data.item.id)) {\n          this.createItem(data.item);\n        }\n        break;\n      case 'item_update':\n        this.updateItem(data.item);\n        break;\n      case 'item_delete':\n        this.deleteItem(data.item.id);\n        break;\n      default:\n        console.log('Unrecognized message type');\n    }\n  }\n\n  createItem({\n    id = uuid(),\n    orderId,\n    text = '',\n    isCompleted = false,\n    isOpen = false,\n  }) {\n    const newItem = {\n      id,\n      orderId,\n      text,\n      isCompleted,\n      isOpen,\n    };\n\n    this.setState({\n      items: this.state.items\n        .map((item) => {\n          if (item.orderId >= newItem.orderId) {\n            return Object.assign({}, item, {\n              orderId: item.orderId + 1,\n            });\n          } else {\n            return item;\n          }\n        })\n        .concat(newItem),\n    });\n\n    return newItem;\n  }\n\n  updateItem(updatedItem) {\n    this.setState({\n      items: this.state.items.map((item) => {\n        if (item.id === updatedItem.id) {\n          return Object.assign({}, item, updatedItem);\n        } else {\n          return item;\n        }\n      }),\n    });\n  }\n\n  deleteItem(id) {\n    this.setState({\n      items: this.state.items.filter((item) => item.id !== id),\n    });\n  }\n\n  handleAddItemClick() {\n    const orderIds = this.state.items\n      .filter((item) => !item.isCompleted)\n      .map((item) => item.orderId);\n\n    let orderId;\n\n    if (orderIds.length > 0) {\n      orderId = Math.max(...orderIds) + 1;\n    } else {\n      orderId = 0;\n    }\n\n    const item = this.createItem({ orderId, isOpen: true });\n    client.createItem(item);\n  }\n\n  handleInputEnter({ orderId }) {\n    const newItemOrderId = orderId + 1;\n    const item = this.createItem({ orderId: newItemOrderId, isOpen: true });\n\n    client.createItem(item);\n  }\n\n  handleDeleteItemClick({ id }) {\n    this.deleteItem(id);\n    client.deleteItem(id);\n  }\n\n  handleItemBlur({ id }) {\n    this.setState({\n      items: this.state.items.map((item) => {\n        if (item.id === id) {\n          const updated = Object.assign({}, item, {\n            isOpen: false,\n          });\n          return updated;\n        } else {\n          return item;\n        }\n      }),\n    });\n  }\n\n  handleValueChange({ id, text }) {\n    this.setState({\n      items: this.state.items.map((item) => {\n        if (item.id === id) {\n          const updated = Object.assign({}, item, {\n            text,\n          });\n          client.updateItem(updated);\n          return updated;\n        } else {\n          return item;\n        }\n      }),\n    });\n  }\n\n  handleCheckClick({ id, isCompleted }) {\n    const orderIds = this.state.items\n      .filter((item) => item.isCompleted === !isCompleted)\n      .map((item) => item.orderId);\n    let orderId;\n\n    if (orderIds.length > 0) {\n      orderId = isCompleted\n        ? Math.max(...orderIds) + 1\n        : Math.min(...orderIds) - 1;\n    } else {\n      orderId = 0;\n    }\n\n    this.setState({\n      items: this.state.items.map((item) => {\n        if (item.id === id) {\n          const updated = Object.assign({}, item, {\n            isCompleted: !item.isCompleted,\n            orderId,\n          });\n          client.updateItem(updated);\n          return updated;\n        } else {\n          return item;\n        }\n      }),\n    });\n  }\n\n  handleReloadClick() {\n    this.loadItems();\n  }\n\n  handleCompletedToggle() {\n    this.setState((prevState) => {\n      if (has(prevState, 'showCompleted')) {\n        return { showCompleted: !prevState.showCompleted };\n      } else {\n        return { showCompleted: false };\n      }\n    });\n  }\n\n  handleOrderChange(orderIdObject) {\n    const updatedItems = [];\n    this.setState({\n      items: this.state.items.map((item) => {\n        if (has(orderIdObject, item.id)) {\n          const updated = { ...item, orderId: orderIdObject[item.id] };\n          updatedItems.push(updated);\n          return updated;\n        } else {\n          return item;\n        }\n      }),\n    });\n    client.updateManyItems(updatedItems);\n  }\n\n  render() {\n    const title = APP_TITLE;\n    const showCompleted = has(this.state, 'showCompleted')\n      ? this.state.showCompleted\n      : true;\n    const notCompletedItems = this.state.items\n      .filter((item) => !item.isCompleted)\n      .sort((itemA, itemB) => itemA.orderId - itemB.orderId);\n    const completedItems = this.state.items\n      .filter((item) => item.isCompleted)\n      .sort((itemA, itemB) => itemA.orderId - itemB.orderId);\n\n    return (\n      <div className=\"App\">\n        <Header onReloadClick={this.handleReloadClick} title={title} />\n        <OnLineStatusBanner status={this.state.onLineStatus} />\n        <ItemList\n          items={notCompletedItems}\n          completedItems={completedItems}\n          onValueChange={this.handleValueChange}\n          onOrderChange={this.handleOrderChange}\n          onCheckClick={this.handleCheckClick}\n          onBlur={this.handleItemBlur}\n          onInputEnter={this.handleInputEnter}\n          onAddItemClick={this.handleAddItemClick}\n          onDeleteClick={this.handleDeleteItemClick}\n          showCompleted={showCompleted}\n        />\n        <Toolbar\n          onAddItemClick={this.handleAddItemClick}\n          onCompletedToggle={this.handleCompletedToggle}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}